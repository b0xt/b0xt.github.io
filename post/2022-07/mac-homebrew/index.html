<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>MacOS installation and configuration of Homebrew - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Learn how to install Homebrew on macOS and how to configure the software sources." /><meta name="keywords" content="Mac, Homebrew" />






<meta name="generator" content="Hugo 0.102.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-07/mac-homebrew/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="MacOS installation and configuration of Homebrew" />
<meta property="og:description" content="Learn how to install Homebrew on macOS and how to configure the software sources." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-07/mac-homebrew/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-07-09T18:23:33+08:00" />
<meta property="article:modified_time" content="2022-07-09T18:23:33+08:00" />

<meta itemprop="name" content="MacOS installation and configuration of Homebrew">
<meta itemprop="description" content="Learn how to install Homebrew on macOS and how to configure the software sources."><meta itemprop="datePublished" content="2022-07-09T18:23:33+08:00" />
<meta itemprop="dateModified" content="2022-07-09T18:23:33+08:00" />
<meta itemprop="wordCount" content="514">
<meta itemprop="keywords" content="mac," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="MacOS installation and configuration of Homebrew"/>
<meta name="twitter:description" content="Learn how to install Homebrew on macOS and how to configure the software sources."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">MacOS installation and configuration of Homebrew</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-07-09 18:23:33 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 514 words </span>
          <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#installation-and-use-of-homebrew">Installation and use of Homebrew</a>
          <ul>
            <li><a href="#homebrew-installation">Homebrew installation</a></li>
            <li><a href="#homebrew-usage">Homebrew Usage</a></li>
          </ul>
        </li>
        <li><a href="#homebrew-configuration">Homebrew configuration</a>
          <ul>
            <li><a href="#view-current-source">View current source</a></li>
            <li><a href="#switching-software-sources">Switching software sources</a></li>
            <li><a href="#restore-the-default-source">Restore the default source</a></li>
            <li><a href="#other-content">other content</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Homebrew is a <a href="https://www.biaodianfu.com/linux-package-management.html">package management tool</a> for MacOS, similar to Ubuntu&rsquo;s apt and Arch Linux&rsquo;s pacman, with many useful functions such as install, uninstall, update, view, search, etc. Many useful functions. It is very convenient and quick to implement package management with a simple command, without you caring about various dependencies and file paths.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/07/09/f57c4c87cd8a46cf9efd08d23fe9f3a5.png" alt="Homebrew"></p>
<h2 id="installation-and-use-of-homebrew">Installation and use of Homebrew</h2>
<h3 id="homebrew-installation">Homebrew installation</h3>
<p>Homebrew is installed by simply typing a command in the command line. The specific command is available at <a href="https://brew.sh/">official website</a>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">/bin/bash -c <span class="s2">&#34;</span><span class="k">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class="k">)</span><span class="s2">&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="homebrew-usage">Homebrew Usage</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Install software</span>
</span></span><span class="line"><span class="cl">brew install <span class="o">[</span>Software Name<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Uninstall software</span>
</span></span><span class="line"><span class="cl">brew uninstall <span class="o">[</span>Software Name<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Search Software</span>
</span></span><span class="line"><span class="cl">brew search <span class="o">[</span>Software Name<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># View the list of installed software</span>
</span></span><span class="line"><span class="cl">brew list
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Remove software</span>
</span></span><span class="line"><span class="cl">brew cleanup <span class="o">[</span>Software Name<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Check the software that needs to be updated</span>
</span></span><span class="line"><span class="cl">brew outdated
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Update software</span>
</span></span><span class="line"><span class="cl">brew upgrade <span class="o">[</span>Software Name<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Update Homebrew</span>
</span></span><span class="line"><span class="cl">brew update
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># View Homebrew configuration information.</span>
</span></span><span class="line"><span class="cl">brew config
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="homebrew-configuration">Homebrew configuration</h2>
<p>Homebrew consists of four main parts: brew, homebrew-core, homebrew-cask, homebrew-bottles, which correspond to the following functions.</p>
<ul>
<li>homebrew: source code repository</li>
<li>homebrew-core: Homebrew core source</li>
<li>homebrew-cask: provides installation of macos applications and large binaries</li>
<li>homebrew-bottles: pre-compiled binary packages</li>
</ul>
<p>Homebrew&rsquo;s default software source is not in China, so if you are a Chinese user, the download speed is very slow when installing.</p>
<p>You can modify the software source like other package management tools.</p>
<h3 id="view-current-source">View current source</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># View brew.git current source</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="s2">&#34;</span><span class="k">$(</span>brew --repo<span class="k">)</span><span class="s2">&#34;</span> <span class="o">&amp;&amp;</span> git remote -v
</span></span><span class="line"><span class="cl"><span class="c1"># View current source for homebrew-core.git</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="s2">&#34;</span><span class="k">$(</span>brew --repo homebrew/core<span class="k">)</span><span class="s2">&#34;</span> <span class="o">&amp;&amp;</span> git remote -v
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="switching-software-sources">Switching software sources</h3>
<p>Mac OS started in 10.15 system, the default shell are changed to zsh, so here only introduce the method of terminal as zsh. Take CSTD source as an example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Replace brew.git:</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="s2">&#34;</span><span class="k">$(</span>brew --repo<span class="k">)</span><span class="s2">&#34;</span> <span class="o">&amp;&amp;</span> git remote set-url origin https://mirrors.ustc.edu.cn/brew.git
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Replace homebrew-core.git:</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="s2">&#34;</span><span class="k">$(</span>brew --repo<span class="k">)</span><span class="s2">/Library/Taps/homebrew/homebrew-core&#34;</span> <span class="o">&amp;&amp;</span> git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Replace homebrew-cask.git:</span>
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> <span class="s2">&#34;</span><span class="k">$(</span>brew --repo<span class="k">)</span><span class="s2">/Library/Taps/homebrew/homebrew-cask&#34;</span> <span class="o">&amp;&amp;</span> git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Replace homebrew-bottles mirror</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles/bottles&#39;</span> &gt;&gt; ~/.zprofile
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Effective immediately</span>
</span></span><span class="line"><span class="cl"><span class="nb">source</span> ~/.zshrc
</span></span></code></pre></td></tr></table>
</div>
</div><p>Other sources.</p>
<ul>
<li>Ali cloud: <a href="https://mirrors.aliyun.com/homebrew/brew.git">https://mirrors.aliyun.com/homebrew/brew.git</a></li>
<li>Tencent Cloud: <a href="https://mirrors.cloud.tencent.com/homebrew/brew.git">https://mirrors.cloud.tencent.com/homebrew/brew.git</a></li>
<li>Tsinghua: <a href="https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git">https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git</a></li>
<li>Beijing Foreign Studies University: <a href="https://mirrors.bfsu.edu.cn/git/homebrew/brew.git">https://mirrors.bfsu.edu.cn/git/homebrew/brew.git</a></li>
</ul>
<h3 id="restore-the-default-source">Restore the default source</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git -C <span class="s2">&#34;</span><span class="k">$(</span>brew --repo<span class="k">)</span><span class="s2">&#34;</span> remote set-url origin https://github.com/Homebrew/brew.git
</span></span><span class="line"><span class="cl">git -C <span class="s2">&#34;</span><span class="k">$(</span>brew --repo homebrew/core<span class="k">)</span><span class="s2">&#34;</span> remote set-url origin https://github.com/Homebrew/homebrew-core.git
</span></span><span class="line"><span class="cl">git -C <span class="s2">&#34;</span><span class="k">$(</span>brew --repo homebrew/cask<span class="k">)</span><span class="s2">&#34;</span> remote set-url origin https://github.com/Homebrew/homebrew-cask.git
</span></span><span class="line"><span class="cl">brew update
</span></span></code></pre></td></tr></table>
</div>
</div><p>The homebrew-bottles configuration can only be deleted manually by removing the <code>HOMEBREW_BOTTLE_DOMAIN=https://mirrors.xxx.com</code> content from the <code>~/.zprofile</code> file and executing <code>source ~/.zprofile</code>.</p>
<h3 id="other-content">other content</h3>
<p>Currently cask is reading software sources from GitHub, and GitHub Api has restrictions on access, so if you use it more frequently, you can request an Api Token and then configure it to HOMEBREW_GITHUB_API_TOKEN in the environment variable.</p>
<p>Append to the <code>.zprofile</code>, taking care to replace yourtoken:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export HOMEBREW_GITHUB_API_TOKEN=yourtoken&#39;</span> &gt;&gt; ~/.zprofile
</span></span><span class="line"><span class="cl"><span class="nb">source</span> ~/.zprofile
</span></span></code></pre></td></tr></table>
</div>
</div>
    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/mac/">mac</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-07/rust-string/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Some summaries on Rust string literals</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-07/k8s-eviction/">
            <span class="next-text nav-default">Summary of eviction strategy for k8s standalone</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
