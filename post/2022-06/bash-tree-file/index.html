<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Traversing folders with Bash - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="This article summarizes some common syntax when traversing and working with folders using Bash." /><meta name="keywords" content="bash, Traversing folders" />






<meta name="generator" content="Hugo 0.96.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-06/bash-tree-file/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="Traversing folders with Bash" />
<meta property="og:description" content="This article summarizes some common syntax when traversing and working with folders using Bash." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-06/bash-tree-file/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-06-15T13:14:12+08:00" />
<meta property="article:modified_time" content="2022-06-15T13:14:12+08:00" />

<meta itemprop="name" content="Traversing folders with Bash">
<meta itemprop="description" content="This article summarizes some common syntax when traversing and working with folders using Bash."><meta itemprop="datePublished" content="2022-06-15T13:14:12+08:00" />
<meta itemprop="dateModified" content="2022-06-15T13:14:12+08:00" />
<meta itemprop="wordCount" content="1418">
<meta itemprop="keywords" content="bash," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Traversing folders with Bash"/>
<meta name="twitter:description" content="This article summarizes some common syntax when traversing and working with folders using Bash."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Traversing folders with Bash</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-06-15 13:14:12 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1418 words </span>
          <span class="more-meta"> 7 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1-overview">1. Overview</a></li>
        <li><a href="#2-iteration">2. Iteration</a></li>
        <li><a href="#3-path-handling">3. Path handling</a></li>
        <li><a href="#4-extracting-file-names">4. Extracting file names</a></li>
        <li><a href="#5-conditional-judgments">5. conditional judgments</a></li>
        <li><a href="#51-test-and-">5.1. test and []</a>
          <ul>
            <li><a href="#52-judgment-operators">5.2. Judgment Operators</a></li>
            <li><a href="#53-special-">5.3. Special [[]]</a></li>
          </ul>
        </li>
        <li><a href="#6-image-conversion-example">6. Image conversion example</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="1-overview">1. Overview</h2>
<p>It is often necessary to use bash to batch process file formats, and it is troublesome to query some basic syntax every time.</p>
<p>So this article summarizes some common syntax when using Bash to traverse a folder directory to process images as an example.</p>
<h2 id="2-iteration">2. Iteration</h2>
<p>Bash traversal is relatively simple and not significantly different from the for loops of most programming languages.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh</span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> file in ./*
</span></span><span class="line"><span class="cl"><span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">then</span>
</span></span><span class="line"><span class="cl">        <span class="nb">echo</span> -e <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The output is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">➜ bash demo.sh  
</span></span><span class="line"><span class="cl">./a.png  
</span></span><span class="line"><span class="cl">./b.png  
</span></span><span class="line"><span class="cl">./c.jpg  
</span></span><span class="line"><span class="cl">./demo.sh
</span></span></code></pre></td></tr></table>
</div>
</div><p>This traversal is practical in most cases.</p>
<h2 id="3-path-handling">3. Path handling</h2>
<p>The above output shows that the execution script demo.sh is also in it, and it can only be processed for the current path.</p>
<p>Then try to add a custom path and put the demo script in another location.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang  </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">path</span><span class="o">=</span><span class="s2">&#34;/mnt/SDA/TMP/test&#34;</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> file in <span class="nv">$path</span>/*  
</span></span><span class="line"><span class="cl"><span class="k">do</span>  
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>  
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>  
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The output is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">➜ bash /mnt/SDA/TMP/demo.sh  
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP/test/a.png  
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP/test/b.png  
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP/test/c.jpg
</span></span></code></pre></td></tr></table>
</div>
</div><p>In practice, you can adjust <code>$path</code> as an incoming parameter with the following script.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang  </span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> file in <span class="nv">$1</span>/*  
</span></span><span class="line"><span class="cl"><span class="k">do</span>  
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>  
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>  
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Execution.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">➜ bash demo.sh <span class="s2">&#34;/mnt/SDA/TMP/test&#34;</span>
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP/test/a.png
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP/test/b.png
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP/test/c.jpg
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>$0 is the name of the script file, e.g. demo.sh</p>
</blockquote>
<p>In addition to <code>$[number]</code> getting the passed-in parameter, there are some common special parameter values that can be used directly.</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$#</code></td>
<td>Total number of parameters</td>
</tr>
<tr>
<td><code>$$</code></td>
<td>Current PID number</td>
</tr>
</tbody>
</table>
<h2 id="4-extracting-file-names">4. Extracting file names</h2>
<p>After adding a custom path above, the output <code>$file</code> also carries the path information. In practice, you will also use filenames, extensions, etc.</p>
<p>The following shows how to extract file path, file name (with extension), file name, extension.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang  </span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">path</span><span class="o">=</span><span class="s2">&#34;/mnt/SDA/TMP/test&#34;</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> file in <span class="nv">$path</span>/*  
</span></span><span class="line"><span class="cl"><span class="k">do</span>  
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;dirname: </span><span class="k">$(</span>dirname <span class="nv">$file</span><span class="k">)</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;filename: </span><span class="k">$(</span>basename <span class="nv">$file</span><span class="k">)</span><span class="s2">&#34;</span>  
</span></span><span class="line"><span class="cl">    <span class="nv">filename</span><span class="o">=</span><span class="k">$(</span>basename <span class="nv">$file</span><span class="k">)</span>  
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;filename(suffix): </span><span class="si">${</span><span class="nv">filename</span><span class="p">%%.*</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;suffix: </span><span class="si">${</span><span class="nv">filename</span><span class="p">#*.</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>  
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The output after execution is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">➜ bash demo.sh  
</span></span><span class="line"><span class="cl">dirname: /mnt/SDA/TMP/test  
</span></span><span class="line"><span class="cl">filename: a.png  
</span></span><span class="line"><span class="cl">filename<span class="o">(</span>suffix<span class="o">)</span>: a  
</span></span><span class="line"><span class="cl">suffix: png  
</span></span><span class="line"><span class="cl">dirname: /mnt/SDA/TMP/test  
</span></span><span class="line"><span class="cl">filename: b.png  
</span></span><span class="line"><span class="cl">filename<span class="o">(</span>suffix<span class="o">)</span>: b  
</span></span><span class="line"><span class="cl">suffix: png  
</span></span><span class="line"><span class="cl">dirname: /mnt/SDA/TMP/test  
</span></span><span class="line"><span class="cl">filename: c.jpg  
</span></span><span class="line"><span class="cl">filename<span class="o">(</span>suffix<span class="o">)</span>: c  
</span></span><span class="line"><span class="cl">suffix: jpg
</span></span></code></pre></td></tr></table>
</div>
</div><p>If there are multiple suffixes, such as <code>a.tar.gz</code>, other less common ones are extracted as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="nv">filename</span><span class="o">=</span><span class="s1">&#39;a.tar.gz&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># a.tar</span>
</span></span><span class="line"><span class="cl"><span class="si">${</span><span class="nv">file</span><span class="p">%.*</span><span class="si">}</span>
</span></span><span class="line"><span class="cl"><span class="c1"># gz</span>
</span></span><span class="line"><span class="cl"><span class="si">${</span><span class="nv">file</span><span class="p">##*.</span><span class="si">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5-conditional-judgments">5. conditional judgments</h2>
<h2 id="51-test-and-">5.1. test and []</h2>
<p>Bash provides the test keyword for conditional judgments, and occasionally you will see <code>if [ string1 ! = string2 ]</code></p>
<p>The above two write-ups are equivalent, i.e. <code>test</code> and <code>[</code> are equivalent, both are keywords in Bash, the difference is that <code>[</code> requires the last argument to be <code>]</code></p>
<blockquote>
<p>Since <code>[</code> is a keyword and <code>]</code> is an argument, there must be spaces, [string1 != string2], which is written without spaces, is wrong.</p>
</blockquote>
<p>Since the two are equivalent, the following illustration for test, replacing <code>test condition</code> in the script with <code>[ condition ]</code>, is also valid.</p>
<h3 id="52-judgment-operators">5.2. Judgment Operators</h3>
<p>The following is a sample script for common conditional judgments.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh</span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">a</span><span class="o">=</span><span class="m">100</span>
</span></span><span class="line"><span class="cl"><span class="nv">b</span><span class="o">=</span><span class="m">200</span>
</span></span><span class="line"><span class="cl"><span class="nv">c</span><span class="o">=</span><span class="m">100</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;a=&#34;</span><span class="nv">$a</span><span class="s2">&#34;, b=&#34;</span><span class="nv">$b</span><span class="s2">&#34;, c=&#34;</span><span class="nv">$c</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> <span class="s2">&#34;</span><span class="nv">$a</span><span class="s2">&#34;</span> -eq <span class="s2">&#34;</span><span class="nv">$c</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;a = c&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> <span class="s2">&#34;</span><span class="nv">$a</span><span class="s2">&#34;</span> -ne <span class="s2">&#34;</span><span class="nv">$b</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;a != b&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> <span class="s2">&#34;</span><span class="nv">$b</span><span class="s2">&#34;</span> -gt <span class="s2">&#34;</span><span class="nv">$a</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;b &gt; a&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">dirname</span><span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>
</span></span><span class="line"><span class="cl"><span class="nv">filename</span><span class="o">=</span><span class="nv">$dirname</span>/demo.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;dirname: &#34;</span><span class="nv">$dirname</span><span class="s2">&#34;, filename: &#34;</span><span class="nv">$filename</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -d <span class="s2">&#34;</span><span class="nv">$dirname</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="nv">$dirname</span><span class="s2">&#34; is a folder&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&#34;</span><span class="nv">$filename</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="nv">$filename</span><span class="s2">&#34; is a file&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The output after execution is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">➜ bash demo.sh
</span></span><span class="line"><span class="cl"><span class="nv">a</span><span class="o">=</span>100, <span class="nv">b</span><span class="o">=</span>200, <span class="nv">c</span><span class="o">=</span><span class="m">100</span>
</span></span><span class="line"><span class="cl"><span class="nv">a</span> <span class="o">=</span> c
</span></span><span class="line"><span class="cl">a !<span class="o">=</span> b
</span></span><span class="line"><span class="cl">b &gt; a
</span></span><span class="line"><span class="cl">dirname: /mnt/SDA/TMP, filename: /mnt/SDA/TMP/demo.sh
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP is a folder
</span></span><span class="line"><span class="cl">/mnt/SDA/TMP/demo.sh is a folder
</span></span></code></pre></td></tr></table>
</div>
</div><p>The list of common operator parameters for conditional judgment <code>numeric type</code> is as follows.</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-eq</td>
<td>equal</td>
</tr>
<tr>
<td>-ne</td>
<td>not equal</td>
</tr>
<tr>
<td>-gt</td>
<td>&gt;</td>
</tr>
<tr>
<td>-ge</td>
<td>&gt;=</td>
</tr>
<tr>
<td>-lt</td>
<td>&lt;</td>
</tr>
<tr>
<td>-le</td>
<td>&lt;=</td>
</tr>
</tbody>
</table>
<p>When judging the condition <code>document</code>, the list of common operator parameters is as follows</p>
<table>
<thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>-e</td>
<td>file exists</td>
</tr>
<tr>
<td>-r</td>
<td>file exists and is readable</td>
</tr>
<tr>
<td>-w</td>
<td>file exists and is writable</td>
</tr>
<tr>
<td>-x</td>
<td>file exists and is executable</td>
</tr>
<tr>
<td>-s</td>
<td>file exists and is not empty</td>
</tr>
<tr>
<td>-d</td>
<td>is a directory</td>
</tr>
<tr>
<td>-f</td>
<td>is a file</td>
</tr>
</tbody>
</table>
<p>The determination of file and numeric content is relatively simple, and the next step is to look at the more complex string determination.</p>
<p>In <code>test</code>, when determining if a string is empty, <code>-z</code> means True when the string is <code>empty</code>, and <code>-n</code> means True when the string is <code>not empty</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh</span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">string_1</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">string_2</span><span class="o">=</span><span class="s2">&#34;hello&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -z <span class="s2">&#34;</span><span class="nv">$string_1</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;string_1 is null&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -n <span class="s2">&#34;</span><span class="nv">$string_2</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;string_2 is not null&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The output after execution is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">➜ bash demo.sh  
</span></span><span class="line"><span class="cl">string_1 is null  
</span></span><span class="line"><span class="cl">string_2 is not null
</span></span></code></pre></td></tr></table>
</div>
</div><p>When using test to make judgments, it is recommended to use double quotes to enclose variables, otherwise the expected execution will not be achieved because of spaces in the variable content.</p>
<p>In addition to double quotes to avoid empty cells in the variable path, you can also use <code>[[]]</code> to avoid splitting the content, considering that the variable path may be entered by the user.</p>
<h3 id="53-special-">5.3. Special [[]]</h3>
<p>Both <code>[</code> and <code>test</code> split the content when judged, e.g. <code>test=&quot;go to&quot;</code> is recognized as <code>go</code> and <code>to</code> arguments.</p>
<p>Unlike <code>[</code>, both <code>[[</code> and <code>]]</code> are commands, and <code>]]</code> is not an argument.</p>
<p>The following code demonstrates the difference.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh</span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">a</span><span class="o">=</span><span class="s2">&#34;go to&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># This will be an exception</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> <span class="nv">$a</span> <span class="o">==</span> <span class="s2">&#34;go to&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;</span><span class="nv">$a</span><span class="s2"> == &#39;go to&#39;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Adding double quotation marks here will correctly determine</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> <span class="s2">&#34;</span><span class="nv">$a</span><span class="s2">&#34;</span> <span class="o">==</span> <span class="s2">&#34;go to&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;</span><span class="nv">$a</span><span class="s2"> == &#39;go to&#39;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># This can be correctly determined without double quotes</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="o">[[</span> <span class="nv">$a</span> <span class="o">==</span> <span class="s2">&#34;go to&#34;</span> <span class="o">]]</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> -e <span class="s2">&#34;</span><span class="nv">$a</span><span class="s2"> == &#39;go to&#39;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The output is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">➜  bash demo.sh
</span></span><span class="line"><span class="cl">demo.sh: line 7: test: too many arguments
</span></span><span class="line"><span class="cl">go <span class="nv">to</span> <span class="o">==</span> <span class="s1">&#39;go to&#39;</span>
</span></span><span class="line"><span class="cl">go <span class="nv">to</span> <span class="o">==</span> <span class="s1">&#39;go to&#39;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="6-image-conversion-example">6. Image conversion example</h2>
<p>By this point, the basic syntax for writing a traversal script is complete, and for reference, here is a traversal script that converts all files in a given directory to webp images.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1">#/bin/sh</span>
</span></span><span class="line"><span class="cl"><span class="c1">#author: chancel.yang</span>
</span></span><span class="line"><span class="cl"><span class="c1">#date: 2022-06-14</span>
</span></span><span class="line"><span class="cl">show_help<span class="o">()</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$0</span><span class="s2"> [-h|-?|--help] [--who me] [--why hhh]&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;-h|-?|--help    Show Help&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;--path          Folder path&#34;</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="o">[[</span> <span class="nv">$#</span> -gt <span class="m">0</span> <span class="o">]]</span><span class="p">;</span> <span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="nv">$1</span> in
</span></span><span class="line"><span class="cl">    -h <span class="p">|</span> -<span class="se">\?</span> <span class="p">|</span> --help<span class="o">)</span>
</span></span><span class="line"><span class="cl">        show_help
</span></span><span class="line"><span class="cl">        <span class="nb">exit</span> <span class="m">0</span>
</span></span><span class="line"><span class="cl">        <span class="p">;;</span>
</span></span><span class="line"><span class="cl">    --in<span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="nv">in</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">2</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nb">shift</span>
</span></span><span class="line"><span class="cl">        <span class="p">;;</span>
</span></span><span class="line"><span class="cl">    --out<span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="nv">out</span><span class="o">=</span><span class="s2">&#34;</span><span class="si">${</span><span class="nv">2</span><span class="si">}</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="nb">shift</span>
</span></span><span class="line"><span class="cl">        <span class="p">;;</span>
</span></span><span class="line"><span class="cl">    *<span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="nb">echo</span> -e <span class="s2">&#34;Error: </span><span class="nv">$0</span><span class="s2"> invalid option &#39;</span><span class="nv">$1</span><span class="s2">&#39;\nTry &#39;</span><span class="nv">$0</span><span class="s2"> --help&#39; for more information.\n&#34;</span> &gt;<span class="p">&amp;</span><span class="m">2</span>
</span></span><span class="line"><span class="cl">        <span class="nb">exit</span> -1
</span></span><span class="line"><span class="cl">        <span class="p">;;</span>
</span></span><span class="line"><span class="cl">    <span class="k">esac</span>
</span></span><span class="line"><span class="cl">    <span class="nb">shift</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> !<span class="o">(</span><span class="nb">test</span> <span class="s2">&#34;</span><span class="nv">$in</span><span class="s2">&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;Please run --help for usage&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> !<span class="o">(</span><span class="nb">test</span> <span class="s2">&#34;</span><span class="nv">$out</span><span class="s2">&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;Please run --help for usage&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> !<span class="o">(</span><span class="nb">test</span> -d <span class="s2">&#34;</span><span class="nv">$in</span><span class="s2">&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;Error: </span><span class="nv">$in</span><span class="s2"> is not a folder&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&#34;</span><span class="nv">$out</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;Error: </span><span class="nv">$out</span><span class="s2"> is a file&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="o">[</span> ! -d <span class="s2">&#34;</span><span class="nv">$out</span><span class="s2">&#34;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">  mkdir <span class="nv">$out</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> file in <span class="nv">$in</span>/*
</span></span><span class="line"><span class="cl"><span class="k">do</span>
</span></span><span class="line"><span class="cl">    <span class="nv">filename</span><span class="o">=</span><span class="k">$(</span>basename <span class="nv">$file</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nb">test</span> -f <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">then</span>
</span></span><span class="line"><span class="cl">        /usr/bin/ffmpeg -i <span class="nv">$file</span> -c:v libwebp <span class="nv">$out</span>/<span class="si">${</span><span class="nv">filename</span><span class="p">%%.*</span><span class="si">}</span>.webp
</span></span><span class="line"><span class="cl">        <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$file</span><span class="s2"> convert to </span><span class="nv">$out</span><span class="s2">/</span><span class="nv">$filename</span><span class="s2">.webp&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">fi</span>
</span></span><span class="line"><span class="cl"><span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> -e <span class="s2">&#34;Convert success&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div>
    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/bash/">bash</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-06/windows-native-docker-container/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Use native Windows Docker containers</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-06/linux-eventfd/">
            <span class="next-text nav-default">Linux Eventfd</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
