<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Golang Common Interview Questions - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Golang common interview questions and answers." /><meta name="keywords" content="golang, Interview Questions" />






<meta name="generator" content="Hugo 0.96.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-04/golang-interview-questions/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="Golang Common Interview Questions" />
<meta property="og:description" content="Golang common interview questions and answers." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-04/golang-interview-questions/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-04-10T11:05:47+08:00" />
<meta property="article:modified_time" content="2022-04-10T11:05:47+08:00" />

<meta itemprop="name" content="Golang Common Interview Questions">
<meta itemprop="description" content="Golang common interview questions and answers."><meta itemprop="datePublished" content="2022-04-10T11:05:47+08:00" />
<meta itemprop="dateModified" content="2022-04-10T11:05:47+08:00" />
<meta itemprop="wordCount" content="1194">
<meta itemprop="keywords" content="golang," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Golang Common Interview Questions"/>
<meta name="twitter:description" content="Golang common interview questions and answers."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Golang Common Interview Questions</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-04-10 11:05:47 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1194 words </span>
          <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1-what-are-the-advantages-or-features-of-go-compared-to-other-languages">1. What are the advantages or features of Go compared to other languages?</a></li>
        <li><a href="#2-gmp-model-in-golang">2. GMP model in Golang?</a></li>
        <li><a href="#3-what-are-the-features-of-goroutines-concurrent-threads-compared-to-threads">3. What are the features of goroutine&rsquo;s concurrent threads, compared to threads?</a></li>
        <li><a href="#4-gos-garbage-collection-mechanism">4. Go&rsquo;s garbage collection mechanism?</a></li>
        <li><a href="#5-how-does-gos-memory-allocation-work">5. How does go&rsquo;s memory allocation work?</a></li>
        <li><a href="#6-what-is-the-internal-implementation-of-the-channel">6. What is the internal implementation of the channel?</a></li>
        <li><a href="#7-what-happens-if-i-read-or-write-to-a-channel-that-has-been-closed">7. What happens if I read or write to a channel that has been closed?</a></li>
        <li><a href="#8-why-is-map-not-thread-safe">8. Why is map not thread-safe?</a></li>
        <li><a href="#9-why-does-the-key-of-a-map-have-to-be-of-comparable-type">9. Why does the key of a map have to be of comparable type?</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="1-what-are-the-advantages-or-features-of-go-compared-to-other-languages">1. What are the advantages or features of Go compared to other languages?</h2>
<ul>
<li>Go allows cross-platform compilation, compiling a binary executable that can be deployed directly on the corresponding system and run.</li>
<li>Go inherently supports high concurrency at the language level, through goroutine and channel. channel is based on the CSP concurrency model, which is called ``sharing memory through communication&rsquo;&rsquo;; Go implements its own scheduling mechanism in the runtime: GMP, which reduces the cost of switching between kernel and user states.</li>
<li>Go&rsquo;s code style is mandatorily uniform and will not compile if it does not follow the rules.</li>
</ul>
<h2 id="2-gmp-model-in-golang">2. GMP model in Golang?</h2>
<p>The GMP model is golang&rsquo;s own scheduling model, which abstracts the following three structures.</p>
<ul>
<li><code>G:</code> which is the concurrent goroutine, managed by Go runtime. We can think of it as a user-level thread.</li>
<li><code>P:</code> processor. Whenever a goroutine is created, it is added to the local queue of goroutines on P, and if P&rsquo;s local queue is full, it is maintained in the global queue.</li>
<li><code>M:</code> System threads. There are scheduling functions on M, which is the real scheduling executor. M needs to be bound to P and will let P pick a goroutine to execute according to the following principle.</li>
</ul>
<p>The priority is to get the goroutine from P&rsquo;s local queue for execution; if the local queue is not available, it will get it from the global queue, and if the global queue is also not available, it will steal the goroutine from the other P.</p>
<h2 id="3-what-are-the-features-of-goroutines-concurrent-threads-compared-to-threads">3. What are the features of goroutine&rsquo;s concurrent threads, compared to threads?</h2>
<p>goroutine is very <strong>light</strong>, with an initial allocation of only 2KB, which is automatically expanded when the stack space is not enough. At the same time, it stores its own execution stack information, which can be used to recover contextual information during scheduling.</p>
<p>Threads are heavier and generally have an initial size of a few MB (different systems allocate different sizes) and are scheduled by the operating system, which is the basic unit of scheduling. golang implements its own scheduling mechanism, and goroutine is its basic unit of scheduling.</p>
<h2 id="4-gos-garbage-collection-mechanism">4. Go&rsquo;s garbage collection mechanism?</h2>
<p>Go uses a three-color marking method that divides objects in memory into three types.</p>
<ul>
<li>White objects: objects that have not been used.</li>
<li>Gray objects: objects that have references to the current object, but have not been scanned further for the referenced object.</li>
<li>Black objects, the above mentioned gray objects have all been scanned for reference objects, so you don&rsquo;t need to scan it next time.</li>
</ul>
<p>When garbage collection starts, Go will mark the root object as gray and the other objects as white, and then iterate through the search from the root object, following the above definition to keep scanning the gray object to mark it. When there are no gray objects, all objects have been scanned, and then you can start clearing the white objects.</p>
<h2 id="5-how-does-gos-memory-allocation-work">5. How does go&rsquo;s memory allocation work?</h2>
<p>Go&rsquo;s memory allocation is based on Google&rsquo;s TCMalloc allocation algorithm, the core idea of which is memory pooling + multi-level object management. The core idea is memory pooling + multi-level object management. memory pooling mainly pre-allocates memory to reduce the frequency of requests to the system; multi-level objects are: mheap, mspan, arenas, mcentral, mcache. they use mspan as the basic allocation unit. The specific allocation logic is as follows.</p>
<ul>
<li>When the object to be allocated is larger than 32K, it is allocated from mheap.</li>
<li>When the object to be allocated is less than or equal to 32K and greater than 16B, it is allocated from the mcache on P. If mcache has no memory, it is fetched from mcentral. If mcentral does not have it either, it is requested from mheap. If mheap also does not have memory, it requests memory from the operating system.</li>
<li>When the object to be allocated is less than or equal to 16B, allocate it from the micro allocator on mcache.</li>
</ul>
<h2 id="6-what-is-the-internal-implementation-of-the-channel">6. What is the internal implementation of the channel?</h2>
<p>The channel maintains two internal goroutine queues, one for data to be sent and the other for data to be read.</p>
<p>Whenever the number of goroutines that can be buffered exceeds the number of reads and writes to the channel, the current goroutine is hung on the corresponding queue until another goroutine performs the opposite read or write operation to bring it back up.</p>
<h2 id="7-what-happens-if-i-read-or-write-to-a-channel-that-has-been-closed">7. What happens if I read or write to a channel that has been closed?</h2>
<p>When a channel is closed, if you continue to write data to it, the program will simply <strong>panic</strong>. If you read the closed channel, it will not generate pannic and you can still read the data. However, if a closed channel has no data to read, it will get a zero value, which is the default value of the corresponding type.</p>
<p>In order to know whether the current channel is closed or not, you can use the following write method to determine.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">ch</span><span class="p">;</span> <span class="p">!</span><span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;channel 已关闭，读取不到数据&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>You can also keep fetching data from the channel using the following writeup.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">data</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">ch</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"> <span class="c1">// get data dosomething
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>This usage ends the for loop after the data in the channel has been read, and executes the code that follows.</p>
<h2 id="8-why-is-map-not-thread-safe">8. Why is map not thread-safe?</h2>
<p>When a map is scaled up or down, it needs to migrate data. The migration process does not use a locking mechanism to prevent concurrent operations, but instead marks a bit with a 1 to indicate that data is being migrated. If another goroutine also writes to the map, it will panic when it detects the 1 bit.</p>
<p>If we want a concurrency-safe map, we need to use sync.map.</p>
<h2 id="9-why-does-the-key-of-a-map-have-to-be-of-comparable-type">9. Why does the key of a map have to be of comparable type?</h2>
<p>When a new key - value is inserted, the hash operation is performed on the key to get a hash value, and then the lower bit of the hash value (the number of bits depends on the number of buckets, for example, if the number of buckets is 5 at the beginning, the lower 5 bits are taken) is used to decide which bucket to hit. for example, if the number of buckets is 5 at the beginning, then the lower 5 bits are taken) to decide which bucket to hit.</p>
<p>After a bucket is hit, it will decide which of the 8 keys is hit based on the higher 8 bits of hash value. If, unfortunately, there is a hash conflict, i.e., there is already <strong>other key</strong> in that position, it will look for other empty positions to insert. If they are all full, the overflow pointer is used to point to a new bucket and the search steps are repeated.</p>
<p>From the above process, we can see that when determining hash conflicts, i.e., whether there is already <strong>other key</strong> in the location, we must compare, so the key must be of comparable type. Slice, map, and function cannot be used as keys.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/golang/">golang</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-04/directory-cach/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Improving Directory Cache Performance</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-04/k8s-fluentd-log-collect/">
            <span class="next-text nav-default">Collecting logs of containers in k8s with fluentd</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
