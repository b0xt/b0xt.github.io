<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>How does Go respond to supply chain attacks? - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Learn how Go deals with supply chain attacks?" /><meta name="keywords" content="golang, Supply, Chain, attacks" />






<meta name="generator" content="Hugo 0.101.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-04/golang-supply-chain/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="How does Go respond to supply chain attacks?" />
<meta property="og:description" content="Learn how Go deals with supply chain attacks?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-04/golang-supply-chain/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-04-06T10:07:53+08:00" />
<meta property="article:modified_time" content="2022-04-06T10:07:53+08:00" />

<meta itemprop="name" content="How does Go respond to supply chain attacks?">
<meta itemprop="description" content="Learn how Go deals with supply chain attacks?"><meta itemprop="datePublished" content="2022-04-06T10:07:53+08:00" />
<meta itemprop="dateModified" content="2022-04-06T10:07:53+08:00" />
<meta itemprop="wordCount" content="683">
<meta itemprop="keywords" content="golang," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How does Go respond to supply chain attacks?"/>
<meta name="twitter:description" content="Learn how Go deals with supply chain attacks?"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">How does Go respond to supply chain attacks?</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-04-06 10:07:53 </span>
        <div class="post-category">
            <a href="/categories/news/"> news </a>
            </div>
          <span class="more-meta"> 683 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#all-builds-are-locked">All builds are &ldquo;locked&rdquo;</a></li>
        <li><a href="#module-version-content-never-changes">Module version content never changes</a></li>
        <li><a href="#vcs-is-the-de-facto-source">VCS is the de facto source</a></li>
        <li><a href="#build-code-only-but-dont-execute-it">Build code only, but don&rsquo;t execute it</a></li>
        <li><a href="#replication-trumps-dependencies">&ldquo;Replication trumps dependencies&rdquo;</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Go&rsquo;s official blog <a href="https://go.dev/blog/supply-chain">introduction</a> has their mitigation measures for supply chain attacks. Go&rsquo;s toolchain and design are said to include attack risk mitigation considerations at all stages.</p>
<h2 id="all-builds-are-locked">All builds are &ldquo;locked&rdquo;</h2>
<p><strong>External changes (such as releasing a new version of a dependency) do not affect Go builds</strong>.</p>
<p>Unlike the configuration files used by most other package managers, Go modules do not have a separate list of constraints and lock files for locking specific versions. The version of each dependency participating in a Go build is determined entirely by the <a href="(https://go.dev/ref/mod#go-mod-file)">go.mod file</a> of the main module.</p>
<p>As of Go 1.16, the above operation is performed by default, and the build command will fail if <a href="https://go.dev/ref/mod#go-mod-file">go.mod</a> is incomplete. The only commands that will change <code>go.mod</code> are <code>go get</code> and <code>go mod tidy</code>. These commands are not usually run automatically or in CI, so such changes to the dependency tree are usually deliberate and can be detected during the code review phase.</p>
<p>This is important for security; if a module is compromised and a new malicious version is released, no one will be affected until that dependency is explicitly updated, providing ecology with time to review the changes and detect the incident.</p>
<h2 id="module-version-content-never-changes">Module version content never changes</h2>
<p>Another key property to ensure that third parties do not affect the build is that the contents of the <strong>module version are immutable</strong> . This is because if an attacker who breaks a dependency can re-upload an existing version, they can automatically break all projects that depend on that dependency.</p>
<p>This is exactly what the <code>go.sum</code> file is for. It contains a cryptographic hash list of each dependency that helped build it. Again, an incomplete <code>go.sum</code> will cause errors and can only be modified using <code>go get</code> and <code>go mod tidy</code>. Therefore, any modification to it will be accompanied by subjective dependency changes.</p>
<h2 id="vcs-is-the-de-facto-source">VCS is the de facto source</h2>
<p>Most projects use a version control system (VCS) during development, and in other ecologies, these projects also require uploads to a central package repository (such as npm). This means that there are two accounts that can be compromised, the VCS host and the central package repository. The latter is much less used and more likely to be ignored. It also means that it is easier to hide malicious code in versions uploaded to the repository, especially if the source code is routinely modified as part of the upload.</p>
<p>Go has no such thing as a central package repository account. The package import path embeds the information needed to get its modules directly from the VCS <code>go mod download</code>, where the tag on the VSC defines the module version.</p>
<h2 id="build-code-only-but-dont-execute-it">Build code only, but don&rsquo;t execute it</h2>
<p>The Go toolchain has an explicit security design goal: <strong>either fetch or build code, but not have that code execute</strong>, regardless of whether the code is untrusted or malicious.</p>
<p>This is a meaningful risk mitigation measure if you are executing a binary or testing a dependency on a package module that uses only a subset. For example, if <code>example.com/cmd/devtoolx</code> is built and executed on macOS, then a dependency for Windows or a dependency for <code>example.com/cmd/othertool</code> is unlikely to compromise your machine.</p>
<p>In Go, modules that do not provide code for a particular build have no security implications for the build.</p>
<h2 id="replication-trumps-dependencies">&ldquo;Replication trumps dependencies&rdquo;</h2>
<p>The last (and probably most important) supply chain attack risk mitigation measure is also the least technical: <strong>Go has a culture of rejecting large dependency trees and prefers copying to adding new dependencies</strong> .</p>
<p>This can be traced back to a Go adage: <a href="https://youtube.com/clip/UgkxWCEmMJFW0-TvSMzcMEAHZcpt2FsVXP65">&ldquo;a little copying is better than a little dependency&rdquo;</a>.</p>
<p>Go modules are very proud of their &ldquo;zero dependency&rdquo; label. If a developer needs to use a library, he will find that it does not make him dependent on dozens of modules from other authors and owners.</p>
<p>This means that rich, complex applications can be built with only a few dependencies. After all, no matter how good a tool is, it cannot eliminate the risks involved in reusing code, so the strongest mitigation is always <strong>only a small dependency tree</strong>.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/golang/">golang</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-04/dagger/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Getting started with Dagger</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-04/nginx-ssl-test/">
            <span class="next-text nav-default">SSL Performance Testing for Nginx</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
