<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>How to Add Babel Polyfill - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Since @babel/polyfill is no longer recommended after Babel 7.4, both @babel/preset-env and plugin-transform-runtime can be set up with corejs to handle polyfill." /><meta name="keywords" content="Babel, Polyfill" />






<meta name="generator" content="Hugo 0.96.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-04/how-to-add-babel-polyfill/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="How to Add Babel Polyfill" />
<meta property="og:description" content="Since @babel/polyfill is no longer recommended after Babel 7.4, both @babel/preset-env and plugin-transform-runtime can be set up with corejs to handle polyfill." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-04/how-to-add-babel-polyfill/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-04-01T17:31:38+08:00" />
<meta property="article:modified_time" content="2022-04-01T17:31:38+08:00" />

<meta itemprop="name" content="How to Add Babel Polyfill">
<meta itemprop="description" content="Since @babel/polyfill is no longer recommended after Babel 7.4, both @babel/preset-env and plugin-transform-runtime can be set up with corejs to handle polyfill."><meta itemprop="datePublished" content="2022-04-01T17:31:38+08:00" />
<meta itemprop="dateModified" content="2022-04-01T17:31:38+08:00" />
<meta itemprop="wordCount" content="1452">
<meta itemprop="keywords" content="Babel," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to Add Babel Polyfill"/>
<meta name="twitter:description" content="Since @babel/polyfill is no longer recommended after Babel 7.4, both @babel/preset-env and plugin-transform-runtime can be set up with corejs to handle polyfill."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">How to Add Babel Polyfill</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-04-01 17:31:38 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1452 words </span>
          <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#introduction-to-babel">Introduction to Babel</a>
          <ul>
            <li><a href="#the-two-main-functions-that-babel-implements">The two main functions that babel implements</a></li>
          </ul>
        </li>
        <li><a href="#preset-env">preset-env</a>
          <ul>
            <li><a href="#target">target</a></li>
            <li><a href="#usebuiltins">useBuiltIns</a></li>
            <li><a href="#corejs">corejs</a></li>
          </ul>
        </li>
        <li><a href="#plugin-transform-runtime">plugin-transform-runtime</a>
          <ul>
            <li><a href="#corejs-1">corejs</a></li>
            <li><a href="#helpers">helpers</a></li>
            <li><a href="#regenerator">regenerator</a></li>
            <li><a href="#useesmodules">useESModules</a></li>
          </ul>
        </li>
        <li><a href="#usage-scenarios-and-example-analysis">Usage scenarios and example analysis</a>
          <ul>
            <li><a href="#project-development">Project development</a></li>
            <li><a href="#library-development">Library development</a></li>
            <li><a href="#package-analysis">Package analysis</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Since <code>@babel/polyfill</code> is no longer recommended after Babel 7.4, both <code>@babel/preset-env</code> and <code>plugin-transform-runtime</code> can set <code>corejs</code> to handle <code>polyfill</code>.</p>
<blockquote>
<p>The main reasons for the deprecation of <code>@babel/polyfill</code> are.</p>
<ul>
<li>This package simply introduces stable core-js and regenerator-runtime/runtime, where the latter can be replaced using the plugin @babel/plugin-transform-regenerator.</li>
<li>This package does not smoothly transition from core-js@2 to core-js@3.</li>
</ul>
</blockquote>
<h2 id="introduction-to-babel">Introduction to Babel</h2>
<p>In short, <code>Babel</code> is a compiler that converts code written in <code>ECMAScript 2015+</code> syntax to backward-compatible <code>JavaScript</code> syntax so that it can run in various environments, including new and old versions of browsers. The Babel code conversion is implemented as <code>plugin</code>, which is a small JavaScript program.</p>
<p>A <code>preset</code> can be thought of as a set of Babel plugins or shareable modules configured with <code>options</code>.</p>
<ul>
<li>plugins run before presets.</li>
<li>plugins are executed in front-to-back order.</li>
<li>presets are executed in reverse order according to the order in which they are listed.</li>
</ul>
<h3 id="the-two-main-functions-that-babel-implements">The two main functions that babel implements</h3>
<ol>
<li>
<p>convert the new syntax. Implementing the new version of js syntax in the old version so that it runs in the corresponding environment, e.g. arrow functions.</p>
</li>
<li>
<p>converting the new API. patching the old runtime (also called polyfill) so that it uses functionality defined in the new version of js but provided in the old runtime, including three categories.</p>
<ul>
<li>Newly defined built-in objects, such as <code>Promise</code></li>
<li>New static methods added to existing built-in objects, such as <code>Array.from</code></li>
<li>New instance methods added to the original built-in object, such as <code>Array.prototype.includes</code></li>
</ul>
</li>
</ol>
<h2 id="preset-env">preset-env</h2>
<p><code>preset-env</code> converts both the new syntax and the new <code>API</code> by configuration. <strong><code>preset-env</code>&rsquo;s <code>polyfill</code> will pollute the global environment.</strong></p>
<h3 id="target">target</h3>
<p>This field can be filled with the query string of <code>browserslist</code>. It is officially recommended to use the <code>.browserslistrc</code> file to specify the <code>target</code> of the compilation, and this configuration file can also share configuration with tools like <code>autoprefixer</code> and <code>stylelint</code>. So it is not recommended to use <code>targets</code> directly in the <code>preset-env</code> configuration of <code>.babelrc</code>.</p>
<blockquote>
<p>If you need to configure <code>targets</code> separately here, specify <code>ignoreBrowserslistConfig</code> as <code>true</code> in <code>preset-env</code> and ignore the <code>.browserslistrc</code> configuration item.</p>
</blockquote>
<h3 id="usebuiltins">useBuiltIns</h3>
<p>Whether to use its <code>polyfill</code> function (core-js for the global environment). There are three values.</p>
<ul>
<li>
<p><code>false</code>: the default value. Does not use <code>preset-env</code> for <code>polyfills</code> without active <code>import</code>, and only uses its default syntax conversion functionality. If you use the default value <code>false</code>, you should avoid introducing <code>polyfill</code> in the entry file, making the package too large.</p>
</li>
<li>
<p><code>entry</code>: You need to manually introduce <code>polyfill</code> in the entry, and introduce all <code>polyfill</code> modules that are not supported by the browser, whether they are used in the project or not, depending on the configuration of the browser&rsquo;s target environment ( <code>targets</code>).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="s2">&#34;core-js/proposals/string-replace-all&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p><code>usage</code>: Instead of introducing <code>polyfill</code> manually in the entry file, <code>Babel</code> will automatically inject <code>polyfill</code> based on the code usage, which will reduce the package size relatively much when packaging.</p>
</li>
</ul>
<h3 id="corejs">corejs</h3>
<p>Configure core-js with the default value of <code>2.0</code>. This option is only valid when used with <code>useBuiltIns: usage</code> or <code>useBuiltIns: entry</code>.</p>
<p><a href="https://github.com/zloirock/core-js#readme">core-js</a>: JavaScript&rsquo;s modular standard library, containing <code>Promise</code>, <code>Symbol</code>, <code>Iterator</code> and many other features that allow you to load only the necessary functionality.</p>
<ul>
<li>version: [string] version number.</li>
<li>proposals: [boolean] Whether to implement the features in the proposals.</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// .babelrc
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;presets&#34;</span><span class="o">:</span> <span class="p">[</span>    
</span></span><span class="line"><span class="cl">    <span class="p">[</span>      
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;@babel/preset-env&#34;</span><span class="p">,</span>      
</span></span><span class="line"><span class="cl">      <span class="p">{</span>        
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;targets&#34;</span><span class="o">:</span> <span class="p">{</span>          
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;chrome&#34;</span><span class="o">:</span> <span class="s2">&#34;80&#34;</span> <span class="c1">// 推荐使用 .browserslistrc        
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="p">},</span>        
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;useBuiltIns&#34;</span><span class="o">:</span> <span class="s2">&#34;usage&#34;</span><span class="p">,</span>        
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;corejs&#34;</span><span class="o">:</span> <span class="p">{</span>          
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;version&#34;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="c1">// 2 和 3 版本都需要手动安装库：yarn add core-js@3 
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>          <span class="s2">&#34;proposals&#34;</span><span class="o">:</span> <span class="kc">false</span>        
</span></span><span class="line"><span class="cl">        <span class="p">}</span>      
</span></span><span class="line"><span class="cl">      <span class="p">}</span>    
</span></span><span class="line"><span class="cl">    <span class="p">]</span>  
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="plugin-transform-runtime">plugin-transform-runtime</h2>
<p><code>plugin-transform-runtime</code> does three main things.</p>
<ul>
<li>Automatically introduces <code>@babel/runtime/regenerator</code> when developers use asynchronous or generators, so developers don&rsquo;t have to do additional introductions in the entry file.</li>
<li>Dynamically introducing <code>polyfill</code> to provide a sandboxed environment and avoid contamination of the global environment; these can contaminate the global if imported directly into core-js or @babel/polyfill and the built-in components it provides such as Promise, Set and Map. While this does not affect applications or command-line tools, it can be a problem if the code is a library to be published for use by others, or if there is no precise control over the environment in which the code will run.</li>
<li>All helpers helper modules will reference the module @babel/runtime to avoid duplication in the compiled output and to reduce packaging size.</li>
</ul>
<h3 id="corejs-1">corejs</h3>
<p>Configuration values: false, 2, or <code>{ version: number, proposals: boolean }</code>  , default value false.</p>
<table>
<thead>
<tr>
<th>corejs</th>
<th>Installation suggestions</th>
</tr>
</thead>
<tbody>
<tr>
<td>false</td>
<td>npm install &ndash;save @babel/runtime</td>
</tr>
<tr>
<td>2</td>
<td>npm install &ndash;save @babel/runtime-corejs2</td>
</tr>
<tr>
<td>3</td>
<td>npm install &ndash;save @babel/runtime-corejs3</td>
</tr>
</tbody>
</table>
<h3 id="helpers">helpers</h3>
<p>Configuration value boolean type, default value true.
Whether to replace inline Babel helpers (classCallCheck, extends, etc.) with calls to moduleName.</p>
<h3 id="regenerator">regenerator</h3>
<p>Configuration value of type boolean, default true.
Whether to convert the generator function to use a regenerator runtime that does not pollute the global scope.</p>
<h3 id="useesmodules">useESModules</h3>
<p>Configuration value boolean type, default false.
When enabled, conversions will use helpers instead of @babel/plugin-transform-modules-commonjs. This allows for smaller builds in module systems like webpack, as it does not need to preserve commonjs semantics.</p>
<h2 id="usage-scenarios-and-example-analysis">Usage scenarios and example analysis</h2>
<p>Both <code>@babel/preset-env</code> and <code>plugin-transform-runtime</code> can be set to use <code>corejs</code> to handle <code>polyfill</code>, each with its own usage scenario, and different configurations can be used for project development and library development.</p>
<blockquote>
<p><strong>Don&rsquo;t configure core-js</strong> for both, to avoid complex and undesirable consequences.</p>
</blockquote>
<h3 id="project-development">Project development</h3>
<p><code>useBuiltIns</code> uses <code>usage</code>. <code>plugin-transform-runtime</code> only uses its feature of removing inline reused helper functions to reduce package size.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;presets&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;@babel/preset-env&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;useBuiltIns&#34;</span><span class="p">:</span> <span class="s2">&#34;usage&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;corejs&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&#34;proposals&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;plugins&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;@babel/plugin-transform-runtime&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;corejs&#34;</span><span class="p">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="library-development">Library development</h3>
<p>Class library development tries not to use <code>polyfill</code> that pollutes the global environment, so <code>@babel/preset-env</code> only functions as a syntax transform, <code>polyfill</code> is handled by <code>plugin-transform-runtime</code>, <code>core-js@3</code> is recommended, and features that are not in the specification are not used.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;presets&#34;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;@babel/preset-env&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;plugins&#34;</span><span class="o">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;@babel/plugin-transform-runtime&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;corejs&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;version&#34;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="s2">&#34;proposals&#34;</span><span class="o">:</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;useESModules&#34;</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="package-analysis">Package analysis</h3>
<h4 id="the-test-code-is-as-follows">The test code is as follows</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// syntax
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">class</span> <span class="nx">Person</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">typeof</span> <span class="nx">Person</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">fun</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// api
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">itm</span> <span class="p">=&gt;</span> <span class="nx">itm</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">p1</span> <span class="o">=</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">p2</span> <span class="o">=</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nb">Promise</span><span class="p">.</span><span class="nx">allSettled</span><span class="p">([</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">]).</span><span class="nx">then</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;then&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="k">catch</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;catch&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}).</span><span class="k">finally</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;finally&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="configuring-core-js-via-preset-env">Configuring core-js via preset-env</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="s2">&#34;use strict&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_interopRequireDefault</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime/helpers/interopRequireDefault&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/es.array.is-array.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/es.array.map.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/es.object.to-string.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/es.promise.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/es.promise.finally.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/es.array.iterator.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/esnext.promise.all-settled.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/es.string.iterator.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;core-js/modules/web.dom-collections.iterator.js&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_typeof2</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime/helpers/typeof&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_createClass2</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime/helpers/createClass&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_classCallCheck2</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime/helpers/classCallCheck&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// syntax
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="cm">/*#__PURE__*/</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_createClass2</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])(</span><span class="kd">function</span> <span class="nx">Person</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_classCallCheck2</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])(</span><span class="k">this</span><span class="p">,</span> <span class="nx">Person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_typeof2</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])(</span><span class="nx">Person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">fun</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">fun</span><span class="p">()</span> <span class="p">{};</span> <span class="c1">// api
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">itm</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">itm</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nb">Promise</span><span class="p">.</span><span class="nx">allSettled</span><span class="p">([</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">]).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;then&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">})[</span><span class="s2">&#34;catch&#34;</span><span class="p">](</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;catch&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">})[</span><span class="s2">&#34;finally&#34;</span><span class="p">](</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;finally&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="configure-core-js-via-plugin-transform-runtime">configure core-js via plugin-transform-runtime</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="s2">&#34;use strict&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_interopRequireDefault</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime-corejs3/helpers/interopRequireDefault&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_isArray</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime-corejs3/core-js-stable/array/is-array&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_map</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime-corejs3/core-js-stable/instance/map&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_promise</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime-corejs3/core-js-stable/promise&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_typeof2</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime-corejs3/helpers/typeof&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_createClass2</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime-corejs3/helpers/createClass&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">_classCallCheck2</span> <span class="o">=</span> <span class="nx">_interopRequireDefault</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s2">&#34;@babel/runtime-corejs3/helpers/classCallCheck&#34;</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// syntax
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">Person</span> <span class="o">=</span> <span class="cm">/*#__PURE__*/</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_createClass2</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])(</span><span class="kd">function</span> <span class="nx">Person</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_classCallCheck2</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])(</span><span class="k">this</span><span class="p">,</span> <span class="nx">Person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_typeof2</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])(</span><span class="nx">Person</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">fun</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">fun</span><span class="p">()</span> <span class="p">{};</span> <span class="c1">// api
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_isArray</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">_map</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">])(</span><span class="nx">array</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">itm</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">itm</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">p1</span> <span class="o">=</span> <span class="nx">_promise</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">].</span><span class="nx">resolve</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">p2</span> <span class="o">=</span> <span class="nx">_promise</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">].</span><span class="nx">reject</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">_promise</span><span class="p">[</span><span class="s2">&#34;default&#34;</span><span class="p">].</span><span class="nx">allSettled</span><span class="p">([</span><span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">]).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;then&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">})[</span><span class="s2">&#34;catch&#34;</span><span class="p">](</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;catch&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">})[</span><span class="s2">&#34;finally&#34;</span><span class="p">](</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;finally&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Analysis of the packaged code shows that preset-env introduces polyfill that is not necessary, and plugin-transform-runtime introduces only polyfill that is needed for the current page.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/babel/">Babel</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-04/ent-supports-tidb/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Golang entity framework Ent supports distributed database TiDB</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-04/go-private-git-repository/">
            <span class="next-text nav-default">Go Module using gitlab private repository</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
