<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>IPFS Beginner&#39;s Manual - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Explore the IPFS (InterPlanetary File System) protocol." /><meta name="keywords" content="ipfs" />






<meta name="generator" content="Hugo 0.101.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-04/ipfs/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="IPFS Beginner&#39;s Manual" />
<meta property="og:description" content="Explore the IPFS (InterPlanetary File System) protocol." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-04/ipfs/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-04-09T12:45:18+08:00" />
<meta property="article:modified_time" content="2022-04-09T12:45:18+08:00" />

<meta itemprop="name" content="IPFS Beginner&#39;s Manual">
<meta itemprop="description" content="Explore the IPFS (InterPlanetary File System) protocol."><meta itemprop="datePublished" content="2022-04-09T12:45:18+08:00" />
<meta itemprop="dateModified" content="2022-04-09T12:45:18+08:00" />
<meta itemprop="wordCount" content="2605">
<meta itemprop="keywords" content="ipfs," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="IPFS Beginner&#39;s Manual"/>
<meta name="twitter:description" content="Explore the IPFS (InterPlanetary File System) protocol."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">IPFS Beginner&#39;s Manual</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-04-09 12:45:18 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 2605 words </span>
          <span class="more-meta"> 6 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#introduction-to-ipfs">Introduction to IPFS</a></li>
        <li><a href="#benefits-of-ipfs">Benefits of IPFS</a>
          <ul>
            <li><a href="#comparison-with-existing-web">Comparison with existing Web</a></li>
            <li><a href="#ipfs-does-it-better">IPFS does it better</a></li>
          </ul>
        </li>
        <li><a href="#how-it-works">How it works</a></li>
        <li><a href="#basic-usage">Basic usage</a>
          <ul>
            <li><a href="#installation">Installation</a></li>
            <li><a href="#fetching-files-folders">Fetching files (folders)</a></li>
            <li><a href="#adding-files-folders">Adding files (folders)</a></li>
          </ul>
        </li>
        <li><a href="#related-concepts">Related Concepts</a>
          <ul>
            <li><a href="#peer">Peer</a></li>
            <li><a href="#cid">CID</a></li>
            <li><a href="#gateway">Gateway</a></li>
            <li><a href="#ipns">IPNS</a></li>
            <li><a href="#ipld">IPLD</a></li>
          </ul>
        </li>
        <li><a href="#deploying-websites-on-ipfs">Deploying Websites on IPFS</a>
          <ul>
            <li><a href="#adding-files-to-ipfs">Adding files to IPFS</a></li>
            <li><a href="#accessing-through-ipfs-gateway">Accessing through IPFS gateway</a></li>
            <li><a href="#using-ipns-for-mapping">Using IPNS for mapping</a></li>
            <li><a href="#resolving-domain-names">Resolving domain names</a></li>
            <li><a href="#updating-content">Updating content</a></li>
          </ul>
        </li>
        <li><a href="#underlying-technology">Underlying technology</a>
          <ul>
            <li><a href="#merkle-directed-acyclic-graph-dag">Merkle Directed Acyclic Graph (DAG)</a></li>
            <li><a href="#distributed-hash-table-dht">Distributed Hash Table DHT</a></li>
          </ul>
        </li>
        <li><a href="#upper-layer-applications">Upper Layer Applications</a></li>
        <li><a href="#filecoin">Filecoin</a></li>
        <li><a href="#building-applications-based-on-ipfs">Building applications based on IPFS</a></li>
        <li><a href="#what-to-expect-in-the-future">What to expect in the future</a></li>
        <li><a href="#some-questions">Some questions</a>
          <ul>
            <li><a href="#can-ipfs-store-files-permanently">Can IPFS store files permanently?</a></li>
            <li><a href="#ipfs-is-anonymous">IPFS is anonymous?</a></li>
            <li><a href="#ipfs-speed-blocks-with-low-latency">IPFS speed blocks with low latency?</a></li>
            <li><a href="#ipfs-is-a-scam-filecoin-is-a-scam">IPFS is a scam, Filecoin is a scam?</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/dccdae1c472a4f1b9b5a114d86b38e1e.png" alt="IPFS"></p>
<h2 id="introduction-to-ipfs">Introduction to IPFS</h2>
<p><strong>IPFS</strong> is known as <code>InterPlanetary File System</code>.</p>
<p>It is a network transport protocol designed to create <strong>persistent</strong> and <strong>distributed</strong> storage and <strong>shared</strong> files, a content-addressable peer-to-peer hypermedia distribution protocol. All the <strong>global</strong> nodes in the IPFS network will constitute <strong>one</strong> distributed file system, and everyone in the world will be able to store and access the files inside IPFS through the IPFS gateway.</p>
<p>Originally designed by Juan Benet and developed by Protocol Labs with the help of the open source community since 2014, this cool project is a <strong>fully open source</strong> project.</p>
<ul>
<li><a href="https://ipfs.io/">IPFS official website</a></li>
<li><a href="https://github.com/ipfs">GitHub</a></li>
</ul>
<h2 id="benefits-of-ipfs">Benefits of IPFS</h2>
<h3 id="comparison-with-existing-web">Comparison with existing Web</h3>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/f347182fc4f4463b9e88af5500a8a202.png" alt="IPFS vs web"></p>
<h4 id="existing-web-technologies-are-inefficient-and-costly">Existing Web technologies are inefficient and costly</h4>
<p>HTTP downloads files from one computer at a time, rather than fetching them from multiple computers simultaneously. Peer-to-peer IPFS <strong>saves significant bandwidth</strong> , with video up to 60%, which makes it possible to efficiently distribute large amounts of data without duplication.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/8ee9a5076ad746368c37e450b2d60955.png" alt="IPFS vs web"></p>
<h4 id="the-existing-web-cannot-preserve-human-history">The existing web cannot preserve human history</h4>
<p>The average lifespan of a web page is 100 days before it&rsquo;s gone forever. The primary medium of our time is not vulnerable enough. IPFS <strong>preserves every version of a file</strong> and makes it simple to build resilient networks for mirrored data.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/e603be2683e5442fa2e19999064373ba.png" alt="IPFS vs web"></p>
<h4 id="existing-networks-are-centralized-limiting-opportunities">Existing networks are centralized, limiting opportunities</h4>
<p>The Internet has driven innovation as one of the greatest equalizers in human history, but increasingly consolidated centralized control threatens this progress. IPFS avoids this through distributed technology.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/228c869e347f47b19d04506b3908df54.png" alt="IPFS vs web"></p>
<h4 id="existing-networks-are-deeply-dependent-on-the-backbone">Existing networks are deeply dependent on the backbone</h4>
<p>IPFS supports the creation of diverse and resilient networks for <strong>persistent availability</strong>, with or without Internet backbone connectivity. This means that developing countries are better connected during natural disasters, or when on wi-fi in a coffee shop.</p>
<h3 id="ipfs-does-it-better">IPFS does it better</h3>
<p>IPFS claims that no matter what you&rsquo;re doing now with pre-existing Web technologies, IPFS can do it better.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/e1b8e22f95b54715b5f7c5b44d689339.png" alt="IPFS does it better"></p>
<ul>
<li>For <strong>archivists</strong> IPFS provides block de-duplication, high performance and cluster-based data persistence, which facilitates the storage of the world&rsquo;s information for the benefit of future generations.</li>
<li>For <strong>Service Providers</strong> IPFS provides secure P2P content delivery that can save service providers millions in bandwidth costs.</li>
<li>For <strong>researchers</strong> If you use or distribute large data sets, IPFS can help you deliver fast performance and decentralized archiving.</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/de41987c3364437b9fc1edd41e99de41.png" alt="IPFS does it better"></p>
<ul>
<li>For <strong>World Development</strong> High latency networks are a major obstacle for those with poor Internet infrastructure. IPFS provides resilient access to data, independent of latency or backbone connectivity.</li>
<li>For <strong>Blockchain</strong> With IPFS, you can process large volumes of data and place immutable, permanent link-timestamps and protected content in transactions without having to put the data itself on the chain.</li>
<li>For <strong>Content Creators</strong> IPFS fully embodies the free and independent spirit of the web and can help you deliver content at a lower cost.</li>
</ul>
<h2 id="how-it-works">How it works</h2>
<p>Let&rsquo;s take a brief look at how IPFS works by going through the process of adding a file to IPFS.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/b667f722592d4aff86e248b35777ad34.png" alt="adding a file to IPFS"></p>
<p>IPFS cuts the file into multiple small blocks, each of 256KB in size, and the number of blocks is determined by the size of the file. Then the Hash of each block is calculated as the fingerprint of this block.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/181f4164555e4004a9e287ab50b9812f.png" alt="IPFS"></p>
<p>Because a lot of file data has duplicate parts, after cutting into smaller chunks, some of these chunks will be identical, which manifests itself as the same fingerprint hash. Blocks with the same fingerprint hash are considered the same block, so the same data all behave as the same block in IPFS, which eliminates the extra overhead of storing the same data.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/1086900520f84259b8a58dfe60451fc7.png" alt="IPFS"></p>
<p>Each node in an IPFS network stores only its own <strong>interest</strong>, i.e., the content that is frequently accessed by users of that IPFS node, or specified to be fixed.</p>
<p>In addition to this, some additional index information is stored, which is used to help in the addressing of file lookups. When we need to access a block, the index information tells IPFS which nodes store that particular block.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/2721cd4fcb0d46bfbe4fe43eb3fa0dd9.png" alt="IPFS"></p>
<p>When we want to view or download a file from IPFS, IPFS then has to query the index information by changing the <strong>FingerprintHash</strong> of the file and asking the nodes it is connected to. This step requires finding which nodes in the IPFS network store the file data blocks you want.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/d86c71ce7ebc49f896959bda6f8e9729.png" alt="IPFS">
<img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/4dafa0cb986d45daa2a715f45a1dc749.png" alt="IPFS"></p>
<p>If you can&rsquo;t remember the fingerprint hash of a file stored in IPFS (which is a very long string), you don&rsquo;t actually have to remember the hash, IPFS provides <strong>IPNS</strong> to provide a mapping between <strong>human readable names</strong> to <strong>fingerprint hashes</strong>, you just need to remember the human readable names you add to IPNS.</p>
<h2 id="basic-usage">Basic usage</h2>
<h3 id="installation">Installation</h3>
<p>Set the environment variable <code>IPFS_PATH</code>, this directory will be used as the local repository for IPFS when initializing and using it later. If not set here, IPFS will use the <code>.ipfs</code> folder in the user directory as the local repository by default.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/afcbad01368349b8bb6c10a39c71bf9e.png" alt="IPFS_PATH"></p>
<h4 id="initialization">initialization</h4>
<p>Run the command <code>ipfs init</code> to initialize the key pair and create the initial file in the <code>IPFS_PATH</code> directory just specified.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/aad12968ebb545598bf2b015a83f928d.png" alt="ipfs init"></p>
<h4 id="view-node-id-information">View Node ID Information</h4>
<p>Run the command <code>ipfs id</code> to view your IPFS node ID information, which contains information such as node ID, public key, address, proxy version, protocol version, and supported protocols.</p>
<p>You can view other people&rsquo;s node ID information by using <code>ipfs id other people's ID</code>.</p>
<h4 id="checking-availability">Checking Availability</h4>
<p>Check availability with the displayed command, here the <code>ipfs cat</code> command is used to see what the specified <code>CID</code> corresponds to.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/61409859e7cb471e94987835418a45d9.png" alt="ipfs cat"></p>
<h4 id="start-the-daemon">Start the daemon</h4>
<p>Run the following command to open the daemon.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">ipfs daemon
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="fetching-files-folders">Fetching files (folders)</h3>
<p>IPFS fetches files implicitly, we can tell IPFS you are going to get the file I want by using commands like view, download, etc.</p>
<h4 id="view-text">View text</h4>
<p>Viewing text is done with the <code>ipfs cat</code> command, as used for checking availability earlier</p>
<h4 id="to-download-binary">to download binary</h4>
<p>For files such as images and videos, which cannot be viewed using the <code>cat</code> command (cat comes out as a bunch of gibberish), we can use the <code>ipfs get cid</code> method to download the file locally. However, this direct download of the file name will be the specified CID, a long string that is not recognizable, we can redirect to the specified file, <code>ipfs get cid -o newname.png</code>.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/619f8233d3524e8386d2f83d0d9fae20.png" alt="ipfs get cid -o newname.png"></p>
<h4 id="listing-directories">Listing directories</h4>
<p>List a directory with the <code>ipfs ls</code> command.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/6bd959104b6d4c18b909bfabcc41b057.png" alt="ipfs ls"></p>
<h3 id="adding-files-folders">Adding files (folders)</h3>
<p>The <code>ipfs add filename</code> command is used to add files to IPFS.</p>
<p>If you need to add a folder, you need to add the <code>-r</code> argument to make it recursive.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/dfb9378e8e5a404b9a268278bd618a63.png" alt="ipfs add filename"></p>
<h2 id="related-concepts">Related Concepts</h2>
<p>Before we go any further, let&rsquo;s look at a few concepts that we must know about IPFS, which are fundamental components of IPFS and essential for subsequent use.</p>
<h3 id="peer">Peer</h3>
<p><strong>Peer</strong> is a peer node, because IPFS is based on P2P technology, so there is no such thing as a server-client, everyone is a server and a client at the same time, everyone for me, me for everyone.</p>
<h3 id="cid">CID</h3>
<p><strong>Content Identifier</strong> (CID) is a label used to point to content in IPFS. It does not indicate where the content is stored, but it forms a kind of address based on the content data itself. The CID is short, regardless of how large the content it points to is.</p>
<p>For details, see: <a href="https://docs.ipfs.io/concepts/content-addressing/">Official IPFS documentation: Content addressing and CIDs</a></p>
<p>Online CID Inspector: <a href="https://cid.ipfs.io/">CID Inspector</a></p>
<h3 id="gateway">Gateway</h3>
<ul>
<li>The official Gateway provided by IPFS: <a href="https://ipfs.io/">https://ipfs.io/</a></li>
<li>IPFS Gateway service provided by Cloudflare: <a href="https://cf-ipfs.com">https://cf-ipfs.com</a></li>
<li>Other publicly available Gateway list: <a href="https://ipfs.github.io/public-gateway-checker/">https://ipfs.github.io/public-gateway-checker/</a></li>
</ul>
<p><a href="https://www.cloudflare.com/distributed-web-gateway/">https://www.cloudflare.com/distributed-web-gateway/</a></p>
<p>For details see: <a href="https://docs.ipfs.io/concepts/ipfs-gateway/">IPFS Documentation: Gateway</a></p>
<h3 id="ipns">IPNS</h3>
<p>IPFS uses content-based addressing, which simply means that IPFS generates a CID based on the Hash of the file data, and this CID is only related to the content of the file, which leads to the fact that if we modify the content of this file, this CID will also change. If we share the file to someone via IPFS, we need to give this person a new link every time we update the content.</p>
<p>To solve this problem, the Interplanetary Name System (IPNS) solves this problem by creating an address that can be updated.</p>
<p>See: <a href="https://docs.ipfs.io/concepts/ipns/">IPFS documentation: IPNS</a> for details.</p>
<h3 id="ipld">IPLD</h3>
<p><a href="https://docs.ipfs.io/concepts/ipld/">https://docs.ipfs.io/concepts/ipld/</a></p>
<h2 id="deploying-websites-on-ipfs">Deploying Websites on IPFS</h2>
<p>Since IPFS claims to be able to build a new generation of distributed Web, we would like to deploy our website to IPFS and experience decentralized and distributed Web 3.0 technology together.</p>
<h3 id="adding-files-to-ipfs">Adding files to IPFS</h3>
<p>I&rsquo;m using Hugo static site generator to generate my blog and the generated content is stored in the <code>public</code> directory, so first I need to add the <code>public</code> directory and all its contents to IPFS.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># -r 参数代表递归添加</span>
</span></span><span class="line"><span class="cl">ipfs add -r public
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 实际运行效果</span>
</span></span><span class="line"><span class="cl">PS D:<span class="se">\b</span>log&gt; ipfs add -r public
</span></span><span class="line"><span class="cl">added QmZT5jXEi2HFVv8tzuDqULBaiEPc8geZFVjXxb9iAsBqbg public/404.html
</span></span><span class="line"><span class="cl">added QmcGDfkg6mcboba3MkNeamGQvRgdnHiD4HZhvCRwEnSdSj public/CNAME
</span></span><span class="line"><span class="cl">很长的滚屏后......
</span></span><span class="line"><span class="cl">added QmT61SS4ykbnt1ECQFDfX27QJdyhsVfRrLJztDvbcR7Kc1 public/tags
</span></span><span class="line"><span class="cl">added QmdoJ8BiuN8H7K68hJhk8ZrkFXjU8T9Wypi9xAyAzt2zoj public
</span></span><span class="line"><span class="cl"> 35.12 MiB / 35.12 MiB <span class="o">[===========================================]</span> 100.00%
</span></span></code></pre></td></tr></table>
</div>
</div><p>If you don&rsquo;t want to see such a long rollup and just want the last Hash, you can add a <code>Q</code> (quiet) parameter.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">PS D:<span class="se">\b</span>log<span class="se">\b</span>log&gt; ipfs add -rQ public
</span></span><span class="line"><span class="cl">QmdoJ8BiuN8H7K68hJhk8ZrkFXjU8T9Wypi9xAyAzt2zoj
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="accessing-through-ipfs-gateway">Accessing through IPFS gateway</h3>
<p>At the end of the add, the hash with the name <code>public</code> is the CID of the public directory, and we can now access the content we just added through the IPFS gateway with this CID.</p>
<h4 id="local-gateway-access">Local Gateway Access</h4>
<p>Let&rsquo;s first access it through the local IPFS gateway to see if it was added successfully. Note that this step requires that you have the IPFS daemon enabled locally.</p>
<p>Visit: <code>http://localhost:8080/ipfs/QmdoJ8BiuN8H7K68hJhk8ZrkFXjU8T9Wypi9xAyAzt2zoj</code></p>
<p>Then the browser will automatically make the jump and you can see that our page can be accessed normally.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/cfe8d523cf6840de9a7b9b84fe7dba3b.png" alt="Local Gateway Access"></p>
<blockquote>
<p>You will find the URL in your browser&rsquo;s address bar as another <strong>long string</strong> consisting of the domain name</p>
<p><code>long string.ipfs.localhost:8080</code></p>
<p>The long string here is another concept in IPFS: IPLD</p>
</blockquote>
<p>If your page is only able to display content, but the style is wrong, as shown below.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/10bf5bfed41d4ae4801c368623467989.png" alt="wrong style"></p>
<p>This is because <strong>absolute addresses</strong> are used and we need to use the form <strong>relative addresses</strong>. If you use Hugo as I do, then just add <code>relativeURLs = true</code> to your config file.</p>
<h4 id="remote-gateway-access">Remote Gateway Access</h4>
<p>We have just successfully accessed the website in IPFS through the local IPFS gateway, now let&rsquo;s find a publicly available other IPFS gateway to try it out.</p>
<p>Here I choose the official gateway maintained by IPFS: <code>https://ipfs.io</code> and visit: <code>https://ipfs.io/ipfs/QmdoJ8BiuN8H7K68hJhk8ZrkFXjU8T9Wypi9xAyAzt2zoj</code>.</p>
<p>It is important to note that at this time the website still exists only on our local machine, and it will take some time for other IPFS gateways to find our website files from the IPFS network. We need to make sure that the IPFS daemon is not closed and has connected to hundreds of other nodes at this time, so that the official IPFS Gateway can find us as soon as possible.</p>
<p>After many refreshes and anxious waits, it finally showed up.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/303667323b2e4edd927f4f00588ab9c8.png" alt="page"></p>
<h3 id="using-ipns-for-mapping">Using IPNS for mapping</h3>
<p>Use the command <code>ipfs name publish CID</code> to publish an IPNS, you may need to wait a while here.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">PS D:<span class="se">\b</span>log<span class="se">\b</span>log&gt; ipfs name publish QmdoJ8BiuN8H7K68hJhk8ZrkFXjU8T9Wypi9xAyAzt2zoj
</span></span><span class="line"><span class="cl">Published to k51qzi5uqu5djhbknypxifn09wxhtf3y1bce8oriud1ojqz5r71mpu75rru520: /ipfs/QmdoJ8BiuN8H7K68hJhk8ZrkFXjU8T9Wypi9xAyAzt2zoj
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/df77f98548d249a3b9a1548833bf8e95.png" alt="ipfs name publish CID"></p>
<p>By using IPNS mapping, we can keep the site content up to date. If we don&rsquo;t use IPNS but publish the CID directly, then others won&rsquo;t be able to access the latest version.</p>
<blockquote>
<p>If IPNS is used, you need to back up the <code>private key</code> of the node and the <code>Key</code> that was generated when the IPNS address was generated.</p>
<p>They are stored in the <code>config</code> file and the <code>keystore</code> folder in the directory you show at init time, respectively.</p>
</blockquote>
<h3 id="resolving-domain-names">Resolving domain names</h3>
<p>IPNS is not the only way to create variable addresses on IPFS, we can also use <strong>DNSLink</strong> , which is currently much faster than IPNS  and also uses <strong>human readable</strong> names.</p>
<p>For example, if I want to bind the domain name <code>ipfs.lgf.im</code> to a website I just published on IPFS, then I need to create a <strong>TXT</strong> record for <code>_dnslink.ipfs.lgf.im</code>.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/447c734df43a4ee887b35f4ef6d17b2a.png" alt="_dnslink.ipfs.lgf.im"></p>
<p>Then anyone can use <code>/ipfs/ipfs.lgf.im</code> to find my site now, by visiting <code>http://localhost:8080/ipns/ipfs.lgf.im</code>.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/d88c371891b040b684c82769f423fb92.png" alt="/ipfs/ipfs.lgf.im"></p>
<p>Detailed documentation is available at: <a href="https://docs.ipfs.io/concepts/dnslink/#publish-using-a-subdomain">IPFS Documentation: DNSLink</a>.</p>
<h3 id="updating-content">Updating content</h3>
<p>To update the content, just add it again and republish the IPNS. If you are using the DNSLink method, you also need to modify the DNS records.</p>
<h2 id="underlying-technology">Underlying technology</h2>
<h3 id="merkle-directed-acyclic-graph-dag">Merkle Directed Acyclic Graph (DAG)</h3>
<p>Each Merkle is a directed acyclic graph , as each node is accessed by its name. Each Merkle branch is a hash of its local content, and their child nodes are named using their hash rather than their full content. Therefore, nodes will not be editable after creation. This prevents loops (assuming no hash collisions) because it is not possible to link the first created node to the last node and thus create the last reference.</p>
<p>For any Merkle, creating a new branch or verifying an existing branch usually requires the use of a hashing algorithm on some combination of local content (e.g. subhash of a list and other bytes). there are several hashing algorithms available in IPFS.</p>
<p>A description of the data entered into the hashing algorithm can be found at <a href="https://github.com/ipfs/go-ipfs/tree/master/merkledag">https://github.com/ipfs/go-ipfs/tree/master/merkledag</a>.</p>
<p>See in particular: <a href="https://docs.ipfs.io/concepts/merkle-dag/">IPFS documentation: Merkle</a>.</p>
<h3 id="distributed-hash-table-dht">Distributed Hash Table DHT</h3>
<p>See in particular: <a href="https://docs.ipfs.io/concepts/dht/">IPFS documentation: DHT</a>.</p>
<h2 id="upper-layer-applications">Upper Layer Applications</h2>
<p>IPFS as a file system is essentially used to store files, and based on some of the features of this file system, there are many upper layer applications that have sprung up.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/7ecf6ccda1ea425a93be62108c431f74.png" alt="Upper Layer Applications"></p>
<h2 id="filecoin">Filecoin</h2>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/04/09/405c42366d3b4d84a418deea4a887107.png" alt="Filecoin"></p>
<h2 id="building-applications-based-on-ipfs">Building applications based on IPFS</h2>
<p>IPFS provides <strong>Golang</strong> and <strong>JavaScript</strong> implementations of the IPFS protocol, making it very easy to integrate IPFS into our applications and take full advantage of the various benefits of IPFS.</p>
<h2 id="what-to-expect-in-the-future">What to expect in the future</h2>
<p>For P2P: <a href="https://t.lgf.im/post/618818179793371136/%E5%85%B3%E4%BA%8Eresilio-sync">https://t.lgf.im/post/618818179793371136/%E5%85%B3%E4%BA%8Eresilio-sync</a></p>
<h2 id="some-questions">Some questions</h2>
<h3 id="can-ipfs-store-files-permanently">Can IPFS store files permanently?</h3>
<p>Many people mistakenly believe that IPFS can store files permanently. In terms of the technology used it is indeed more conducive to storing content permanently, but there is a constant need for someone to access, pin, and propagate the content, otherwise the data will still be lost when all nodes across the network have GC&rsquo;d the content data.</p>
<h3 id="ipfs-is-anonymous">IPFS is anonymous?</h3>
<p>Some people think P2P is anonymous, just like Tor, just like Ether. In fact the vast majority of P2P applications are not anonymous, and neither is IPFS, so you need to protect yourself when posting sensitive information. IPFS does not currently support the Tor network.</p>
<h3 id="ipfs-speed-blocks-with-low-latency">IPFS speed blocks with low latency?</h3>
<p>In theory, as long as there are enough nodes, IPFS speed based on P2P technology can fully use your bandwidth and latency can potentially be lower than centralized Web. But in practice, as things stand, not many people use IPFS, you link up to about 1000 IPFS nodes (at least at this stage I&rsquo;m up to even 1000 or less), so it does not reach the ideal state of theory, so now IPFS is not very fast, and few people access the cold data latency is very high, there is a high probability of not finding.</p>
<h3 id="ipfs-is-a-scam-filecoin-is-a-scam">IPFS is a scam, Filecoin is a scam?</h3>
<p>Indeed, there are many speculators who want to profit by selling the so-called IPFS miners (actually ordinary computers connected to large hard drives), so they deliberately go to confuse the concepts of IPFS, Filecoin, Bitcoin, blockchain, etc., playing the pseudo-concept of permanent storage, using the hot spot of blockchain to deceive the elderly who know nothing, this behavior is very shameless.</p>
<p>In fact, IPFS itself is not a scam, based on IPFS generated incentive layer Filecoin is also not a scam, from my use, anyone <strong>no need</strong> to purposely buy any so-called IPFS miner, just run an IPFS daemon in the background while your own computer is running. Don&rsquo;t get carried away by the so called <strong>coins</strong>.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/ipfs/">ipfs</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-04/how-do-onion-service-work/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">How Do Onion Service Work?</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-04/k8s-pod-delete-code/">
            <span class="next-text nav-default">Kubernetes Pod Delete Operation Source Code Analysis</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
