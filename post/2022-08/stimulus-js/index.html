<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Getting started with stimulus.js - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="This article is a tutorial for getting started with stimulus.js." /><meta name="keywords" content="stimulus.js" />






<meta name="generator" content="Hugo 0.102.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-08/stimulus-js/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="Getting started with stimulus.js" />
<meta property="og:description" content="This article is a tutorial for getting started with stimulus.js." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-08/stimulus-js/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-08-05T16:44:58+08:00" />
<meta property="article:modified_time" content="2022-08-05T16:44:58+08:00" />

<meta itemprop="name" content="Getting started with stimulus.js">
<meta itemprop="description" content="This article is a tutorial for getting started with stimulus.js."><meta itemprop="datePublished" content="2022-08-05T16:44:58+08:00" />
<meta itemprop="dateModified" content="2022-08-05T16:44:58+08:00" />
<meta itemprop="wordCount" content="1434">
<meta itemprop="keywords" content="javascript," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting started with stimulus.js"/>
<meta name="twitter:description" content="This article is a tutorial for getting started with stimulus.js."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Getting started with stimulus.js</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-08-05 16:44:58 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1434 words </span>
          <span class="more-meta"> 7 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#a-restrained-front-end-javascript-framework">A restrained front-end JavaScript framework</a>
          <ul>
            <li><a href="#the-lightness-of-stimulusjs">The lightness of <code>Stimulus.js</code></a></li>
          </ul>
        </li>
        <li><a href="#also-talk-about-the-scenarios-where-stimulusjs-is-not-suitable">Also talk about the scenarios where <code>stimulus.js</code> is not suitable</a></li>
        <li><a href="#some-things-to-keep-in-mind-when-using-stimulusjs">Some things to keep in mind when using <code>stimulus.js</code></a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>The <code>stimulus.js</code> framework is a lightweight JavaScript framework developed by the big name Basecamp, the company that developed the core Ruby on Rails framework. I&rsquo;ve heard of the stimulus.js framework for a long time, but I&rsquo;ve never actually used it. Recently, I just had the opportunity to practice in a small project of my own, and have some experience, so I&rsquo;d like to share a summary.</p>
<p>Reminder: If you want to quickly experience the demo made by stimulus.js, you can take a look at this <a href="https://github.com/chloerei/todomvc-stimulus">todomvc-stimulus</a>.</p>
<h2 id="a-restrained-front-end-javascript-framework">A restrained front-end JavaScript framework</h2>
<p>Speaking of my general impression of the <code>stimulus.js</code> framework, I think it is a very restrained front-end JavaScript framework. It focuses <strong>on the binding of HTML elements to JavaScript objects</strong>, and the binding is one-way, not the two-way binding that has long been common in front-end development. Beyond that, it offers no additional functionality.</p>
<p>Because of its restraint, <strong>lightweight</strong> is its inevitable first advantage. Secondly, with its designed concept of <code>controller</code>, it can achieve isolation and decoupling of state in the interaction logic. Finally, the organization of the <code>controller</code> code is familiar to those familiar with Rails development: <strong>convention over configuration</strong>. Each <code>controller</code> definition needs to follow the convention that a <code>controller</code> corresponds to a file in the <code>controllers</code> directory, with the same name as the <code>controller</code>.</p>
<h3 id="the-lightness-of-stimulusjs">The lightness of <code>Stimulus.js</code></h3>
<p>There are very few core concepts in <code>Stimulus.js</code>, there are only 4 core concepts that you need to understand to get started with the <code>stimulus.js</code> framework.</p>
<h4 id="controllers"><code>Controllers</code></h4>
<p><code>Controllers</code> are JavaScript objects bound to HTML elements that declare data attributes such as <code>data-controller=&quot;todos&quot;</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">data</span><span class="o">-</span><span class="nx">controller</span><span class="o">=</span><span class="s2">&#34;todos&#34;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>stimulus.js</code> will automatically instantiate the corresponding controller for all such elements, one instance of each. In the example above, <code>stimulus.js</code> automatically looks for the file located in <code>app/javascript/controllers/todos_controller.js</code> and imports the default classes exported there, a classic <strong>convention over configuration</strong> approach.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// app/javascript/controllers/todos_controller.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Controller</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;stimulus&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="kr">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">connect</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Of course, if you don&rsquo;t want to use or can&rsquo;t use the agreed form, you can also register the controller explicitly via the functions provided by <code>stimulus.js</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">application</span><span class="p">.</span><span class="nx">register</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">,</span> <span class="nx">TodosController</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Such elements, and their descendants, are visible to the controller to which the element is bound. That is, in the <code>stimulus.js</code> framework, the controller&rsquo;s actions can only be applied to the controller-bound element and its descendants. The same principle applies in the case of nested Controllers.</p>
<p>Controllers can collaborate with each other by means of events, which will be added later when we talk about Actions.</p>
<h4 id="targets"><code>Targets</code></h4>
<p><code>Targets</code> is another way to implement binding between HTML elements and JavaScript objects, but it works under a specific Controller.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">data</span><span class="o">-</span><span class="nx">controller</span><span class="o">=</span><span class="s2">&#34;todos&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="p">...</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">data</span><span class="o">-</span><span class="nx">todos</span><span class="o">-</span><span class="nx">target</span><span class="o">=</span><span class="s2">&#34;addBtn&#34;</span><span class="o">&gt;</span><span class="nx">Add</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The rule for declaring the target is <code>data-&lt;controller&gt;-target=&lt;target-name&gt;</code>, and accordingly, the object to be bound needs to be declared in the controller.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// app/javascript/controllers/todos_controller.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Controller</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;stimulus&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="kr">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">stitic</span> <span class="nx">target</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&#34;addBtn&#34;</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Once you have bound the targets, you can use something like <code>this.addBtnTarget</code> or <code>this.addBtnTargets</code> (for cases where multiple HTML elements are bound to the same Target) in the controllers method to access the bound HTML elements, as per the stimulus.js protocol for targets ) to access these bound HTML elements.</p>
<h4 id="controllers-and-targets-lifecycle-callbacks"><code>Controllers</code> and Targets lifecycle callbacks</h4>
<p>The above mentioned Controllers and Targets are binding functions between HTML elements and JavaScript objects, because HTML elements are loaded with the browser and subsequent DOM operations, which brings up the question, what is the lifecycle of these objects?</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/05/78da34fe32004269bcdc3a2e2cfa349f.png" alt="Controllers and Targets lifecycle callbacks"></p>
<p>These lifecycle callback functions are all closely related to changes in the DOM, and generally look at these conditions.</p>
<ul>
<li>Does the element exist?</li>
<li>Does the bound identifier exist in the element&rsquo;s property list, such as <code>data-controller</code> or <code>data-&lt;controller&gt;-target</code>?</li>
</ul>
<p>The connect type callback is called when the condition is changed from partially or completely not being met to being met; conversely, the disconnect type event callback is called if all conditions are no longer met due to some DOM action.</p>
<p>controllers can define initialization tasks in the <code>connect()</code> callback, such as the initialization of some state of the controller, and accordingly, <code>[name]TargetConnected</code> can be used for the initialization of a target.</p>
<h4 id="actions"><code>Actions</code></h4>
<p>Actions is the event callback mechanism in <code>stimulus.js</code>, similar to the syntax of <code>onclick</code> and <code>onchange</code> in HTML.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">data</span><span class="o">-</span><span class="nx">controller</span><span class="o">=</span><span class="s2">&#34;todos&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="p">...</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">data</span><span class="o">-</span><span class="nx">todos</span><span class="o">-</span><span class="nx">target</span><span class="o">=</span><span class="s2">&#34;addBtn&#34;</span> <span class="nx">data</span><span class="o">-</span><span class="nx">action</span><span class="o">=</span><span class="s2">&#34;click-&gt;todos#add&#34;</span><span class="o">&gt;</span><span class="nx">Add</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Actions supports multiple event callback declarations, which also facilitates collaboration between Controllers.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">data</span><span class="o">-</span><span class="nx">controller</span><span class="o">=</span><span class="s2">&#34;todos submitter&#34;</span><span class="o">&gt;</span>  <span class="o">&lt;!</span> <span class="o">--</span> <span class="nx">Note</span> <span class="nx">that</span> <span class="nx">multiple</span> <span class="nx">controller</span> <span class="nx">bindings</span> <span class="nx">are</span> <span class="nx">used</span> <span class="nx">here</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--</span> <span class="p">...</span> <span class="o">--&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">data</span><span class="o">-</span><span class="nx">todos</span><span class="o">-</span><span class="nx">target</span><span class="o">=</span><span class="s2">&#34;addBtn&#34;</span> <span class="nx">data</span><span class="o">-</span><span class="nx">action</span><span class="o">=</span><span class="s2">&#34;click-&gt;todos#add todos:added-&gt;submitter#submit&#34;</span><span class="o">&gt;</span><span class="nx">Add</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></span><span class="line"><span class="cl"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// app/javascript/controllers/todos_controller.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Controller</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;stimulus&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="kr">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">add</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// do something to maintain the status of todos controller
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">this</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="s2">&#34;added&#34;</span><span class="p">,</span> <span class="p">{</span><span class="nx">detail</span><span class="o">:</span> <span class="p">{</span><span class="nx">todos</span><span class="o">:</span> <span class="p">[</span><span class="nx">xxxx</span><span class="p">]}}}})</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// app/javascript/controllers/submitter_controller.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="p">{</span> <span class="nx">Controller</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;stimulus&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="kr">extends</span> <span class="nx">Controller</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">submit</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">detail</span><span class="p">.</span><span class="nx">todos</span><span class="p">;</span>   <span class="c1">// extract event data
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// do something else
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>In this example, the flow of the program execution is as follows.</p>
<ol>
<li>after the user clicks the Add button, the <code>click</code> event triggered by the button triggers a callback to the <code>added</code> method of the <code>todos</code> controller.</li>
<li>after the <code>added</code> method executes its own core logic, it triggers the <code>todos:added</code> event by calling the <code>this.dispatch</code> method, noting that the <code>todos:</code> prefix here is automatically added by the framework.</li>
<li>the <code>todos:added</code> event is generated, triggering a callback to the <code>submitter</code> controller&rsquo;s <code>submit</code> method.</li>
</ol>
<p>In this way, by abstracting different controllers to achieve the separation and decoupling of logic, and then through the event mechanism, the logic will be assembled and orchestrated.</p>
<p>Understanding these 4 core concepts is enough to develop a relatively simple front-end logic with <code>stimulus.js</code>. Of course, there are several other concepts in <code>stimulus.js</code>, but in my opinion they are just icing on the cake, so I don&rsquo;t need to go into them here.</p>
<h2 id="also-talk-about-the-scenarios-where-stimulusjs-is-not-suitable">Also talk about the scenarios where <code>stimulus.js</code> is not suitable</h2>
<p>Despite being a small project, there are some issues that I found cumbersome in using <code>stimulus.js</code>.</p>
<ol>
<li><strong>Lack of encapsulation of DOM operations</strong>: Since <code>stimulus.js</code> only provides binding between HTML elements and JavaScript objects, it does not provide encapsulation of DOM operations, so when you need to manipulate the DOM, you often need to use the operations of native DOM objects directly, such as <code>Element.classList .add()</code> type, if it is in the early browser, you still need to worry about compatibility issues, etc., but the good thing is that now the browser compatibility problems have been much less, this is not too big a problem.</li>
<li><strong>Lack of front-end rendering support</strong>: Because the binding in <code>stimulus.js</code> is not bidirectional, in some cases where you need to render different page content or visual effects based on JavaScript objects, without the support of other frameworks, you have to write various string interpolations and <code>Element.innerHTML = xxxx</code>, which is also inefficient.</li>
</ol>
<p>So, to sum up, if your front-end page is a heavy interaction page, it might not be a wise choice to use only <code>stimulus.js</code>. If I choose to use <code>stimulus.js</code>, I think it&rsquo;s more comfortable to use <code>stimulus.js</code> if it&rsquo;s a content-based light interaction scenario, such as blogs or forums, where the general interaction is the comment section, simple text input and additional display, etc.; but in other cases, I would probably go directly to <code>vue.js</code> or other more comprehensive framework to minimize the code that synchronizes state between the page and the logic.</p>
<h2 id="some-things-to-keep-in-mind-when-using-stimulusjs">Some things to keep in mind when using <code>stimulus.js</code></h2>
<ol>
<li><strong>Action outside the scope of Controllers cannot call back to the Controller&rsquo;s methods</strong>.
This problem took some time to solve, but I didn&rsquo;t understand why, then I realized that it was because I didn&rsquo;t pay attention to the Controller scope. Because my action declares that the controller that needs to be called back is not visible in the current DOM, so the callback fails.</li>
<li><strong>The action triggered before controller initialization cannot call back to the controller method</strong> This problem is because I declared an action in the code and also executed <code>dispatch</code> in the controller, but at this time, because the target controller has not yet been initialized, it seems that the code does not have any syntax or use any syntax. It looks like there is no syntax or usage error in the code, but it is impossible for the action to trigger the callback successfully.</li>
</ol>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/javascript/">javascript</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-08/linux-tree-structured-file-system/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Linux tree-structured file system</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-08/workbox-service-worker/">
            <span class="next-text nav-default">Getting Started with Service Worker - Rapid Development of Service Worker with Workbox</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
