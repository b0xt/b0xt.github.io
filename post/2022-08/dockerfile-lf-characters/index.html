<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>When using Dockerfile to build container images, you should pay more attention to the impact of &#34;line breaks&#34;. - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Solve the exception caused by line break in windows when building container images with Dockerfile." /><meta name="keywords" content="docker" />






<meta name="generator" content="Hugo 0.102.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-08/dockerfile-lf-characters/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="When using Dockerfile to build container images, you should pay more attention to the impact of &#34;line breaks&#34;." />
<meta property="og:description" content="Solve the exception caused by line break in windows when building container images with Dockerfile." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-08/dockerfile-lf-characters/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-08-08T08:57:56+08:00" />
<meta property="article:modified_time" content="2022-08-08T08:57:56+08:00" />

<meta itemprop="name" content="When using Dockerfile to build container images, you should pay more attention to the impact of &#34;line breaks&#34;.">
<meta itemprop="description" content="Solve the exception caused by line break in windows when building container images with Dockerfile."><meta itemprop="datePublished" content="2022-08-08T08:57:56+08:00" />
<meta itemprop="dateModified" content="2022-08-08T08:57:56+08:00" />
<meta itemprop="wordCount" content="1159">
<meta itemprop="keywords" content="docker," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="When using Dockerfile to build container images, you should pay more attention to the impact of &#34;line breaks&#34;."/>
<meta name="twitter:description" content="Solve the exception caused by line break in windows when building container images with Dockerfile."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">When using Dockerfile to build container images, you should pay more attention to the impact of &#34;line breaks&#34;.</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-08-08 08:57:56 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1159 words </span>
          <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#experience-the-feeling-of-developing-in-containers">Experience the feeling of developing in containers</a></li>
        <li><a href="#experience-the-problem-after-version-control">Experience the problem after version control</a></li>
        <li><a href="#the-right-solution">The right solution</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>NET 6 and SQL Server development environment into a Docker container using Visual Studio Code&rsquo;s <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack">Remote Development</a> today. Although it went smoothly with the <a href="https://code.visualstudio.com/docs/remote/containers">documentation</a>, the problem arose after the project was versioned. I think the point of this article is that in today&rsquo;s containerized, cross-platform era, line breaks actually have to be confronted, or else you&rsquo;ll be at a loss for what to do.</p>
<h2 id="experience-the-feeling-of-developing-in-containers">Experience the feeling of developing in containers</h2>
<ol>
<li>
<p>Install the <a href="https://www.docker.com/products/docker-desktop">Docker Desktop</a> and <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack">Remote Development extensions</a> first.</p>
</li>
<li>
<p>Create the basic ASP.NET Core 6 project and open it with <a href="https://code.visualstudio.com/">Visual Studio Code</a> first.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">dotnet new web -n devcontainer-demo1
</span></span><span class="line"><span class="cl">code devcontainer-demo1
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Press <code>F1</code> &gt; <code>Remote-Containers: Add Development Container Configuration Files</code></p>
</li>
<li>
<p>Select a Dev Container template first: <code>C# (.NET) and MS SQL</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/5d9567a675684c8390ef1909639be823.png" alt="C# (.NET) and MS SQL"></p>
</li>
<li>
<p>Select .NET version: <code>6.0-focal</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/1d683fd8ff9445a88925dfa92b841286.png" alt=".NET version: 6.0-focal"></p>
</li>
<li>
<p>Select Node.js version: <code>none</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/bc55de3ca93249eda6e4f5917c442da9.png" alt="Node.js version: none"></p>
</li>
<li>
<p>Select the tool to be used in the container: Here we do not select it first, we can just press <code>OK</code> to finish the setting</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/6a0cd03d116c4a498977967eddb177f1.png" alt="press OK to finish the setting"></p>
<p>That&rsquo;s all set! üëç</p>
</li>
<li>
<p>Next, let&rsquo;s do Git version control.</p>
<p>To do this, I&rsquo;ll start by adding a .NET-specific <code>.gitignore</code> file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">dotnet new gitignore
</span></span></code></pre></td></tr></table>
</div>
</div><p>The following is the final version, basically each file you can click on to see.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/8eb334bf641e46c3b1f34ea90a4f8eb4.png" alt="final version"></p>
<p>Establish version control.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git init
</span></span><span class="line"><span class="cl">git add .
</span></span><span class="line"><span class="cl">git commit -m <span class="s2">&#34;Initial commit&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Run <code>F1</code> &gt; <code>Remote-Containers: Reopen in Container</code> to start automatically</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/2c866e7f6d9d4090a7efc195ecb0ac6f.png" alt="start automatically"></p>
<p>Behind this action, all the required container images are automatically created, and then automatically started, the container environment is automatically initialized (installing the necessary development tools), the necessary network connection port forwarding is turned on (Port Forwarding), and then you can smoothly develop, test, and execute in the Container container connected to Visual Studio Code.</p>
</li>
</ol>
<h2 id="experience-the-problem-after-version-control">Experience the problem after version control</h2>
<p>Since the <code>.devcontainer/Dockerfile</code> file in the project is responsible for building all the environments in the Dev Container development container, it contains <a href="https://docs.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-ver16&amp;WT.mc_id=DT-MVP-4015686">SQL-related tools</a> such as sqlcmd, bcp, sqlpackage, etc.</p>
<p>The contents of this <code>.devcontainer/Dockerfile</code> are as follows</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="line"><span class="cl"><span class="c">#!/bin/bash</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># [Choice] .NET version: 6.0-focal, 3.1-focal</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">ARG</span> <span class="nv">VARIANT</span><span class="o">=</span><span class="s2">&#34;6.0-focal&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">FROM</span><span class="s"> mcr.microsoft.com/vscode/devcontainers/dotnet:0-${VARIANT}</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># [Choice] Node.js version: none, lts/*, 18, 16, 14</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">ARG</span> <span class="nv">NODE_VERSION</span><span class="o">=</span><span class="s2">&#34;none&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> <span class="k">if</span> <span class="o">[</span> <span class="s2">&#34;</span><span class="si">${</span><span class="nv">NODE_VERSION</span><span class="si">}</span><span class="s2">&#34;</span> !<span class="o">=</span> <span class="s2">&#34;none&#34;</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> su vscode -c <span class="s2">&#34;umask 0002 &amp;&amp; . /usr/local/share/nvm/nvm.sh &amp;&amp; nvm install </span><span class="si">${</span><span class="nv">NODE_VERSION</span><span class="si">}</span><span class="s2"> 2&gt;&amp;1&#34;</span><span class="p">;</span> <span class="k">fi</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># Install SQL Tools: SQLPackage and sqlcmd</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">COPY</span> mssql/installSQLtools.sh installSQLtools.sh<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="k">RUN</span> bash ./installSQLtools.sh <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>     <span class="o">&amp;&amp;</span> apt-get clean -y <span class="o">&amp;&amp;</span> rm -rf /var/lib/apt/lists/* /tmp/library-scripts<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># [Optional] Uncomment this section to install additional OS packages.</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># RUN apt-get update &amp;&amp; export DEBIAN_FRONTEND=noninteractive \</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c">#     &amp;&amp; apt-get -y install --no-install-recommends &lt;your-package-list-here&gt;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># [Optional] Uncomment this line to install global node packages.</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="c"># RUN su vscode -c &#34;source /usr/local/share/nvm/nvm.sh &amp;&amp; npm install -g &lt;your-package-here&gt;&#34; 2&gt;&amp;1</span><span class="err">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>You can find that he has copied <code>mssql/installSQLtools.sh</code> to the container, the point is that the Dev Container provided by Microsoft is based on <code>Ubuntu 20.04.4 LTS</code> as the main operating system, and when running this command, it will require all Shell Scripts to be executed with <code>LF</code> as the main line break character, so the common Windows <code>CRLF</code> line break character is not available, and the process of building container image will be wrong!</p>
<p>Let&rsquo;s take a look at the process of how this error occurred.</p>
<ol>
<li>
<p>The container does not contain the project source code.</p>
<p>Microsoft&rsquo;s Dev Container uses volumn mapping to mount source code into the container, so you only have the &ldquo;project execution environment&rdquo; in the container!</p>
</li>
<li>
<p>Judging <code>~/.gitconfig</code> settings</p>
<p>When we first create a container image, it automatically copies the Windows local <code>~/.gitconfig</code> domain-wide configuration file to the <code>~/.gitconfig</code> container environment, so basically the Git settings under <code>Ubuntu 20.04.4 LTS</code> are exactly the same as Windows. But Windows has a default value of <code>core.autocrlf=true</code>, which means that when all files are <strong>checked out</strong>, all <strong>text files</strong> are automatically treated as line feeds with <code>CRLF</code>, but that&rsquo;s a big problem!</p>
</li>
<li>
<p>Retrieve the source code</p>
<p>Since the <code>.devcontainer/mssql/installSQLtools.sh</code> file was initially saved as <code>LF</code>, it will be automatically converted to <code>CRLF</code> newlines as soon as the source code is retrieved, so we can expect the <code>.devcontainer/Dockerfile</code> to have Error!</p>
<p>You can try removing the entire <code>.devcontainer</code> and retrieving the file with <code>git reset --hard</code>.</p>
</li>
<li>
<p>Run <code>F1</code> &gt; <code>Remote-Containers: Reopen Folder Locally</code> to go back to Windows and open this project</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/2b07e17d38704d799a73ebe7bccd32e6.png" alt="go back to Windows and open this project"></p>
</li>
<li>
<p>Run <code>F1</code> &gt; <code>Rebuild Without Cache and Reopen in Container</code> Rebuild the container image of the Dev Container</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/76a16c67414c4786b0331ef873f09429.png" alt="Rebuild the container image of the Dev Container"></p>
</li>
</ol>
<p>At this point you will see the error message.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">An error occurred setting up the container.
</span></span></code></pre></td></tr></table>
</div>
</div><p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/68efe75c18d04805bccaa4ce602d8a01.png" alt="error message."></p>
<p>If you look at the <strong>Terminal</strong>, you can see the relatively detailed error message.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images1/2022/08/08/8b82c69957344d50af2ab7d17ff3a278.png" alt="detailed error message"></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">=&gt;[internal] load build context
</span></span><span class="line"><span class="cl">0.0s
</span></span><span class="line"><span class="cl">=&gt;=&gt; transferring context: 787B
</span></span><span class="line"><span class="cl">0.0s
</span></span><span class="line"><span class="cl">=&gt; CACHED[1/4]FROM mcr.microsoft.com/vscode/devcontainers/dotnet:0-6.0 0.0s=‚Üí&gt;[2/4] RUN if [&#34;none&#34; !=&#34;none&#34; ]; then su vscode -c &#34;umask 0002 &amp;&amp; . 0.55=‚Üí[3/4]COPY mssql/installSQLtools.sh installSQLtools.sh0.0s=&gt; ERROR [4/4] RUN bash ./installsQLtools.sh &amp;&amp; apt-get clean -y &amp;&amp;0.6s--- ‰∏Ä
</span></span><span class="line"><span class="cl">&gt;[4/4] RUN bash ./installsQLtools.sh &amp;&amp; apt-get clean -y &amp;&amp; rm -rf /var/lib/apt/lists/*/tmp/library-scripts:
</span></span><span class="line"><span class="cl">#0 0.583 Installing mssql-tools
</span></span><span class="line"><span class="cl">#00.583 ./installSQLtools.sh: line 3: syntax error near unexpected token&#39;$&#39;\r&#39;
</span></span><span class="line"><span class="cl">#0 0.583 ./installSQLtools.sh: line 3: &#39;curl -sSL https://packages.microsoft.com&#39;keys/microsoft.asc | (oUT=$(apt-key add - 2&gt;&amp;1) ll echo $ouT)
</span></span><span class="line"><span class="cl">failed to solve: executor failed running [/bin/sh -c bash ./installSQLtools.sh&amp;&amp;apt-get clean -y &amp;&amp; rm -rf /var/lib/apt/lists/* /tmp/library-scripts]: exit code: 2
</span></span><span class="line"><span class="cl">[6681 ms] Error:Command failed: docker-compose --project-name devcontainer-demol_devcontainer
</span></span></code></pre></td></tr></table>
</div>
</div><p>When the problem occurred, it wasn&rsquo;t very understandable at first, but you should now know very well that it was the line break that caused the error!</p>
<h2 id="the-right-solution">The right solution</h2>
<p>The most standard solution to this problem is as follows.</p>
<ol>
<li>
<p>Run <code>F1</code> &gt; <code>Remote-Containers: Reopen Folder Locally</code> to go back to Windows and open this project</p>
</li>
<li>
<p>Create a <code>.gitattributes</code> file under the <code>.devcontainer/mssql/</code> directory and add the following.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">*.sh    text eol=lf
</span></span></code></pre></td></tr></table>
</div>
</div><p>This will ensure that all <code>*.sh</code> files in that directory will always use <code>LF</code> as a newline character when Git pulls them out.</p>
</li>
<li>
<p>Delete the <code>.devcontainer/mssql/*.sh</code> file, and use <code>git checkout</code> or <code>git reset --hard</code> to retrieve the file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Be sure to delete the file first</span>
</span></span><span class="line"><span class="cl">rm .devcontainer/mssql/*.sh
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Execute the file retrieval operation after deletion</span>
</span></span><span class="line"><span class="cl">git checkout -- .devcontainer/mssql/*.sh
</span></span></code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Run <code>F1</code> &gt; <code>Rebuild Without Cache and Reopen in Container</code> to rebuild the container image of Dev Container</p>
</li>
</ol>
<p>You should be able to build the container again this time! üëç</p>
<h2 id="conclusion">Conclusion</h2>
<p>This problem is actually not likely to occur in macOS or Linux, only Windows users will encounter this situation, which makes me wonder if no Microsoft engineers are using Windows anymore ah? üòÖ</p>
<p>However, I still think that as long as you are a Windows-loving developer like me, you should understand the difference between <code>CRLF</code> and <code>LF</code>, so that you will step on fewer mines in the process of containerization in the future.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/docker/">docker</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-08/consistency-and-consensus-algorithm/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Consistency Problems and Consensus Algorithms for Distributed Databases</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-08/postgresql-2022/">
            <span class="next-text nav-default">PostgreSQL is becoming increasingly popular</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
