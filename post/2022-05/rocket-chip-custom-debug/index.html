<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Learn how to add custom debug signals to the Rocket Chip - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Learn how to add custom debug signals to the Rocket Chip." /><meta name="keywords" content="custom debug signals, Rocket Chip" />






<meta name="generator" content="Hugo 0.101.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-05/rocket-chip-custom-debug/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="Learn how to add custom debug signals to the Rocket Chip" />
<meta property="og:description" content="Learn how to add custom debug signals to the Rocket Chip." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-05/rocket-chip-custom-debug/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-05-16T13:15:14+08:00" />
<meta property="article:modified_time" content="2022-05-16T13:15:14+08:00" />

<meta itemprop="name" content="Learn how to add custom debug signals to the Rocket Chip">
<meta itemprop="description" content="Learn how to add custom debug signals to the Rocket Chip."><meta itemprop="datePublished" content="2022-05-16T13:15:14+08:00" />
<meta itemprop="dateModified" content="2022-05-16T13:15:14+08:00" />
<meta itemprop="wordCount" content="652">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Learn how to add custom debug signals to the Rocket Chip"/>
<meta name="twitter:description" content="Learn how to add custom debug signals to the Rocket Chip."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Learn how to add custom debug signals to the Rocket Chip</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-05-16 13:15:14 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 652 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#background">Background</a></li>
        <li><a href="#analyze-how-the-trace-signal-is-connected">Analyze how the Trace signal is connected</a></li>
        <li><a href="#adding-custom-debug-signals">Adding custom debug signals</a></li>
        <li><a href="#summary">Summary</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="background">Background</h2>
<p>Recently I was trying to add the core as a Tile to the Rocket System, so I wanted to connect the custom debug signals from the core to the top level.</p>
<p>The Rocket System comes with support for trace, which outputs instruction information for each cycle of retire, but it&rsquo;s not quite the same as the custom one, so I researched how to add a custom debug signal and connect it to the top level.</p>
<h2 id="analyze-how-the-trace-signal-is-connected">Analyze how the Trace signal is connected</h2>
<p>First, observe how the Trace signals used by Rocket Chip itself are connected to the top level. On the top level, you can find the use of <code>testchipip.CanHaveTraceIO</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="k">trait</span> <span class="nc">CanHaveTraceIO</span> <span class="o">{</span> <span class="k">this:</span> <span class="kt">HasTiles</span> <span class="o">=&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="k">val</span> <span class="n">module</span><span class="k">:</span> <span class="kt">CanHaveTraceIOModuleImp</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// Bind all the trace nodes to a BB; we&#39;ll use this to generate the IO in the imp
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="k">val</span> <span class="n">traceNexus</span> <span class="k">=</span> <span class="nc">BundleBridgeNexusNode</span><span class="o">[</span><span class="kt">Vec</span><span class="o">[</span><span class="kt">TracedInstruction</span><span class="o">]]()</span>
</span></span><span class="line"><span class="cl">  <span class="k">val</span> <span class="n">tileTraceNodes</span> <span class="k">=</span> <span class="n">tiles</span><span class="o">.</span><span class="n">flatMap</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">ext_tile</span><span class="k">:</span> <span class="kt">WithExtendedTraceport</span> <span class="o">=&gt;</span> <span class="nc">None</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="n">tile</span> <span class="k">=&gt;</span> <span class="nc">Some</span><span class="o">(</span><span class="n">tile</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">}.</span><span class="n">map</span> <span class="o">{</span> <span class="k">_</span><span class="o">.</span><span class="n">traceNode</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">tileTraceNodes</span><span class="o">.</span><span class="n">foreach</span> <span class="o">{</span> <span class="n">traceNexus</span> <span class="k">:</span><span class="o">=</span> <span class="k">_</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>You can see that it uses diplomacy&rsquo;s BundleBridgeNexusNode. take each tile and connect its traceNode to the traceNexus. Take a look at how the module <code>CanHaveTraceIOModuleImp</code> implements this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">trait</span> <span class="nx">CanHaveTraceIOModuleImp</span> <span class="p">{</span> <span class="k">this</span><span class="o">:</span> <span class="nx">LazyModuleImpLike</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nx">val</span> <span class="nx">outer</span><span class="o">:</span> <span class="nx">CanHaveTraceIO</span> <span class="kd">with</span> <span class="nx">HasTiles</span>
</span></span><span class="line"><span class="cl">  <span class="nx">implicit</span> <span class="nx">val</span> <span class="nx">p</span><span class="o">:</span> <span class="nx">Parameters</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">val</span> <span class="nx">traceIO</span> <span class="o">=</span> <span class="nx">p</span><span class="p">(</span><span class="nx">TracePortKey</span><span class="p">)</span> <span class="nx">map</span> <span class="p">(</span> <span class="nx">traceParams</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">val</span> <span class="nx">extTraceSeqVec</span> <span class="o">=</span> <span class="p">(</span><span class="nx">outer</span><span class="p">.</span><span class="nx">traceNexus</span><span class="p">.</span><span class="k">in</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">_1</span><span class="p">)).</span><span class="nx">map</span><span class="p">(</span><span class="nx">ExtendedTracedInstruction</span><span class="p">.</span><span class="nx">fromVec</span><span class="p">(</span><span class="nx">_</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="nx">val</span> <span class="nx">tio</span> <span class="o">=</span> <span class="nx">IO</span><span class="p">(</span><span class="nx">Output</span><span class="p">(</span><span class="nx">TraceOutputTop</span><span class="p">(</span><span class="nx">extTraceSeqVec</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">val</span> <span class="nx">tileInsts</span> <span class="o">=</span> <span class="p">((</span><span class="nx">outer</span><span class="p">.</span><span class="nx">traceNexus</span><span class="p">.</span><span class="k">in</span><span class="p">)</span> <span class="p">.</span><span class="nx">map</span> <span class="p">{</span> <span class="k">case</span> <span class="p">(</span><span class="nx">tileTrace</span><span class="p">,</span> <span class="nx">_</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">DeclockedTracedInstruction</span><span class="p">.</span><span class="nx">fromVec</span><span class="p">(</span><span class="nx">tileTrace</span><span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Since clock &amp; reset are not included with the traced instruction, plumb that out manually
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">(</span><span class="nx">tio</span><span class="p">.</span><span class="nx">traces</span> <span class="nx">zip</span> <span class="p">(</span><span class="nx">outer</span><span class="p">.</span><span class="nx">tile_prci_domains</span> <span class="nx">zip</span> <span class="nx">tileInsts</span><span class="p">)).</span><span class="nx">foreach</span> <span class="p">{</span> <span class="k">case</span> <span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">(</span><span class="nx">prci</span><span class="p">,</span> <span class="nx">insts</span><span class="p">))</span> <span class="p">=&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nx">port</span><span class="p">.</span><span class="nx">clock</span> <span class="o">:=</span> <span class="nx">prci</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nx">clock</span>
</span></span><span class="line"><span class="cl">      <span class="nx">port</span><span class="p">.</span><span class="nx">reset</span> <span class="o">:=</span> <span class="nx">prci</span><span class="p">.</span><span class="nx">module</span><span class="p">.</span><span class="nx">reset</span><span class="p">.</span><span class="nx">asBool</span>
</span></span><span class="line"><span class="cl">      <span class="nx">port</span><span class="p">.</span><span class="nx">insns</span> <span class="o">:=</span> <span class="nx">insts</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">tio</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>As you can see, it picks up a number of trace signals from traceNexus, and then picks up the top output signal via <code>IO(TraceOutputTop()</code>.</p>
<p>Let&rsquo;s take a look at how Rocket is connected, starting with the definition of <code>traceNode</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="cm">/** Node for the core to drive legacy &#34;raw&#34; instruction trace. */</span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="n">traceSourceNode</span> <span class="k">=</span> <span class="nc">BundleBridgeSource</span><span class="o">(()</span> <span class="k">=&gt;</span> <span class="nc">Vec</span><span class="o">(</span><span class="n">traceRetireWidth</span><span class="o">,</span> <span class="k">new</span> <span class="nc">TracedInstruction</span><span class="o">()))</span>
</span></span><span class="line"><span class="cl"><span class="cm">/** Node for external consumers to source a legacy instruction trace from the core. */</span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="n">traceNode</span><span class="k">:</span> <span class="kt">BundleBridgeOutwardNode</span><span class="o">[</span><span class="kt">Vec</span><span class="o">[</span><span class="kt">TracedInstruction</span><span class="o">]]</span> <span class="k">=</span> <span class="n">traceNexus</span> <span class="k">:</span><span class="o">=</span> <span class="n">traceSourceNode</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Then the Rocket Tile implementation connects its own trace to the traceSourceNode.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="n">outer</span><span class="o">.</span><span class="n">traceSourceNode</span><span class="o">.</span><span class="n">bundle</span> <span class="o">&lt;&gt;</span> <span class="n">core</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">trace</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="adding-custom-debug-signals">Adding custom debug signals</h2>
<p>At this point, the whole idea is pretty clear, we just need to make one from scratch. For example, if we want to expose our Custom Debug interface, the first step is to create a SourceNode in the Tile as well.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="c1">// expose debug
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">val</span> <span class="n">customDebugSourceNode</span> <span class="k">=</span>
</span></span><span class="line"><span class="cl"><span class="nc">BundleBridgeSource</span><span class="o">(()</span> <span class="k">=&gt;</span> <span class="k">new</span> <span class="nc">CustomDebug</span><span class="o">())</span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="n">customDebugNode</span><span class="k">:</span> <span class="kt">BundleBridgeOutwardNode</span><span class="o">[</span><span class="kt">CustomDebug</span><span class="o">]</span> <span class="k">=</span>
</span></span><span class="line"><span class="cl"><span class="n">customDebugSourceNode</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>In BaseTileModuleImp, make the signal connections.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="c1">// expose debug
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">outer</span><span class="o">.</span><span class="n">customDebugSourceNode</span><span class="o">.</span><span class="n">bundle</span> <span class="k">:</span><span class="o">=</span> <span class="n">core</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">debug</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>To expose to the top level, we can do it similarly. In the Subsystem.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="c1">// expose debug
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">val</span> <span class="n">customDebugNexus</span> <span class="k">=</span> <span class="nc">BundleBridgeNexusNode</span><span class="o">[</span><span class="kt">CustomDebug</span><span class="o">]()</span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="n">tileCustomDebugNodes</span> <span class="k">=</span> <span class="n">tiles</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">flatMap</span> <span class="o">{</span> <span class="k">case</span> <span class="n">tile</span><span class="k">:</span> <span class="kt">MeowV64Tile</span> <span class="o">=&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nc">Some</span><span class="o">(</span><span class="n">tile</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">map</span> <span class="o">{</span> <span class="k">_</span><span class="o">.</span><span class="n">customDebugNode</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">tileCustomDebugNodes</span><span class="o">.</span><span class="n">foreach</span> <span class="o">{</span> <span class="n">customDebugNexus</span> <span class="k">:</span><span class="o">=</span> <span class="k">_</span> <span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Finally the connection to IO in SubsystemModule Imp.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="c1">// wire custom debug signals
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">val</span> <span class="n">customDebugIO</span> <span class="k">=</span> <span class="n">outer</span><span class="o">.</span><span class="n">customDebugNexus</span><span class="o">.</span><span class="n">in</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="k">_</span><span class="o">.</span><span class="n">_1</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="k">val</span> <span class="n">customDebug</span> <span class="k">=</span> <span class="nc">IO</span><span class="o">(</span>
</span></span><span class="line"><span class="cl">  <span class="nc">Output</span><span class="o">(</span>
</span></span><span class="line"><span class="cl">    <span class="nc">Vec</span><span class="o">(</span><span class="n">customDebugIO</span><span class="o">.</span><span class="n">length</span><span class="o">,</span> <span class="n">customDebugIO</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="n">cloneType</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="o">(</span><span class="n">i</span> <span class="k">&lt;-</span> <span class="mi">0</span> <span class="n">until</span> <span class="n">customDebug</span><span class="o">.</span><span class="n">length</span><span class="o">)</span> <span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">customDebug</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="k">:</span><span class="o">=</span> <span class="n">customDebugIO</span><span class="o">(</span><span class="n">i</span><span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>That takes care of it.</p>
<p>That takes care of it.</p>
<h2 id="summary">Summary</h2>
<p>Finding this implementation was basically done against the trace interface that comes with it. It is more important to understand the two layers inside diplomacy. The first layer is to make some connections between the different modules, and then the second layer handles the actual signals and logic in ModuleImp.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/2022-05/ace/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">ACE Cache Coherence Protocol Analysis</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-05/memory-authentication/">
            <span class="next-text nav-default">Analysis of memory authentication algorithms</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
