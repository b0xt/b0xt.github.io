<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>The story of /bin /usr/bin and /usr/local/bin - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Learn the story of the &#34;/bin&#34;, &#34;/usr/bin&#34; and &#34;/usr/local/bin&#34; directories on Unix/linux systems." /><meta name="keywords" content="/bin, /usr/bin, /usr/local/bin" />






<meta name="generator" content="Hugo 0.102.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-05/user-bin/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="The story of /bin /usr/bin and /usr/local/bin" />
<meta property="og:description" content="Learn the story of the &#34;/bin&#34;, &#34;/usr/bin&#34; and &#34;/usr/local/bin&#34; directories on Unix/linux systems." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-05/user-bin/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-05-08T17:33:20+08:00" />
<meta property="article:modified_time" content="2022-05-08T17:33:20+08:00" />

<meta itemprop="name" content="The story of /bin /usr/bin and /usr/local/bin">
<meta itemprop="description" content="Learn the story of the &#34;/bin&#34;, &#34;/usr/bin&#34; and &#34;/usr/local/bin&#34; directories on Unix/linux systems."><meta itemprop="datePublished" content="2022-05-08T17:33:20+08:00" />
<meta itemprop="dateModified" content="2022-05-08T17:33:20+08:00" />
<meta itemprop="wordCount" content="936">
<meta itemprop="keywords" content="unix,linux," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The story of /bin /usr/bin and /usr/local/bin"/>
<meta name="twitter:description" content="Learn the story of the &#34;/bin&#34;, &#34;/usr/bin&#34; and &#34;/usr/local/bin&#34; directories on Unix/linux systems."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">The story of /bin /usr/bin and /usr/local/bin</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-05-08 17:33:20 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 936 words </span>
          <span class="more-meta"> 5 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#tldr">TL;DR</a></li>
        <li><a href="#a-deeper-understanding">A deeper understanding</a></li>
        <li><a href="#some-history">Some history</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>The <code>$PATH</code> variable on Linux systems usually contains <code>/bin</code>, <code>/usr/bin</code>, and <code>/usr/local/bin</code>. All three of these directories have binary programs in them, and there are a lot of misconceptions on the web about the differences. (Just like the question of what is the difference between HTTP GET and POST). This article tries to explain this, based on my understanding and the Linux documentation. (In this article, we are talking about Linux, or more precisely, Unix systems)</p>
<h2 id="tldr">TL;DR</h2>
<p>These bin locations are just a few directories and are not fundamentally different. Which commands go where depends entirely on user and distro preferences. For example, some distributions <a href="https://www.freedesktop.org/wiki/Software/systemd/TheCaseForTheUsrMerge/">use <code>/bin</code> as a symbolic link to <code>-&gt; /usr/bin</code></a>. The <code>[</code> command is placed under <code>/usr/bin</code> for Ubuntu and <code>/bin</code> for OS X.</p>
<p>But generally speaking, we think of these directories as being organized as follows.</p>
<ul>
<li><code>/bin</code> for system critical programs, such as <code>ls</code> and <code>cat</code>, the definition of &ldquo;critical&rdquo; varies from one distribution to another.</li>
<li><code>/usr/bin</code> holds the distribution&rsquo;s administrative programs, such as Ubuntu&rsquo;s own <code>md5sum</code>, which is where the binary will be located.</li>
<li><code>/usr/local/bin</code> for the user&rsquo;s own programs, e.g. if you compile a gcc, then the gcc executable binary should be in this directory.</li>
<li>In addition, there are three corresponding directories <code>/sbin</code> <code>/usr/sbin</code> <code>/usr/local/sbin</code> that hold system administration programs, such as <code>deluser</code> <code>chroot</code> <code>service</code>.</li>
</ul>
<p>Again, this is just a way of managing files, you can even put your own binary under <code>$HOME/bin</code>. Also, software installed by OS X with <a href="https://brew.sh/">homebrew</a> will be placed under <code>/usr/local/Cellar</code> and a symbolic link to the relevant bin directory will be created in <code>/usr/local/bin</code>, but under Ubuntu, it will be placed under <code>/usr/bin</code>.</p>
<h2 id="a-deeper-understanding">A deeper understanding</h2>
<p>Also, you need to know that <code>/</code> <code>/usr</code> <code>/usr/local</code> are prefixes, and after you compile a software, you have to execute <code>. /configure --prefix=/usr/local</code> and then <code>make &amp;&amp; make install</code>. Then <code>/usr/local</code> will be the prefix, the library files will be under <code>/usr/local/lib</code>, the configuration files will be under <code>/usr/local/etc</code>, and the executable files (binary) will be under <code>/usr/local/bin</code>.</p>
<blockquote>
<p>Then we look at how these prefixes are chosen. If you have compiled a system like FreeBSD, you will find that the system libraries, base tools and kernel for these systems are put into a set of code trees, and compiling this code, the kernel and core libraries and tools are done together, and these are considered part of the operating system. These core files, then, have the root directory as the prefix. so / is the prefix for all core operating system programs.</p>
<p>Adding new programs outside this core constitutes a distribution, and the programs added to this distribution use /usr as the prefix.</p>
<p>Once you have installed the distribution, you install applications outside the distribution, and those applications usually use /opt, /srv as prefixes.</p>
<p>But if you compile an application yourself from source code, those programs are compiled specifically to you, the Site, in which case the default prefix is /usr/local.</p>
</blockquote>
<h2 id="some-history">Some history</h2>
<p>As you can see, different distributions will have different interpretations. So there is <em><a href="http://www.linuxbase.org/betaspecs/fhs/fhs/index.html">Filesystem Hierarchy Standard</a></em> which wants to specify a standard for file hierarchy. (Actually, I don&rsquo;t think this standard makes much sense; such a specification cannot be forced on all distributions).</p>
<p>Even though most people now think that these three directories mean what they say at the beginning of this article, the truth is that they were not created with this purpose in mind.</p>
<p>The truth is that when Ken Thompson and Dennis Ritchie created Unix in 1969, they used a PDP-11 with two RK05 disks, each of which was only 1.5M.</p>
<p>Later the system became bigger and bigger, one disk was not enough and a second disk was needed, so a second one was mounted, called <code>/usr</code> to put user files (imagine having two disks, one for the system and one for user data, very logical). Then the system directories, <code>/bin</code>, <code>/sbin</code>, <code>lib</code> &hellip; are copied to the new disk and read and write on the new disk.</p>
<p>Then they got a third disk (ahh!!) ) and mounted it under <code>/home</code>, moving only the user&rsquo;s files over. This way, by mounting different disks in different places, the system could make use of all 3 disks.</p>
<p>Of course, they must have a rule: &ldquo;When the system first starts, the first disk must have all the programs needed to mount the second disk to <code>/usr</code>, like <code>mount</code>. If <code>mount</code> is placed in <code>/usr/bin/mount</code>, you run into the problem of whether the chicken or the egg comes first.&rdquo; Very reasonable.</p>
<p>The split between <code>/bin</code> and <code>/usr/bin</code> is artificial, and this implementation detail from 1970 has survived. Blame it on those who stick to the rules and don&rsquo;t ask why.</p>
<p>One could argue that this split is &ldquo;unnecessary&rdquo; if there is enough disk space. But later, for various reasons, this &ldquo;unnecessary&rdquo; assumption was broken. One reason is that with the introduction of shared libraries (dynamic linking), <code>/lib</code> and <code>/usr/bin</code> had to match, which was not a problem before, because everything was statically linked.</p>
<p>Anyway, ever since these two directories existed, people started giving them meanings: <code>/</code> for upstream files, <code>/usr</code> for local content; later they evolved to <code>/</code> for official releases from AT&amp;T, <code>/usr</code> for distribution content, then IBM AIX or Dec Ultrix, and <code>/usr/local</code> for their own local Then people decided that <code>/usr/local</code> wasn&rsquo;t good enough for new packages, so they added <code>/opt</code>! and maybe <code>/opt/local</code> in the future.</p>
<p>There were later attempts to standardize them by organizations such as <em><a href="http://www.linuxbase.org/betaspecs/fhs/fhs/index.html">Filesystem Hierarchy Standard</a> that we mentioned earlier,</em> but they didn&rsquo;t try to understand why in the first place would be like this &hellip;&hellip;</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/unix/">unix</a>
          <a href="/tags/linux/">linux</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-05/vs-code-powershell/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Two years in the making, Microsoft VS Code PowerShell gets a major update</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-05/hard-drive-partitioning/">
            <span class="next-text nav-default">Introduction to Hard Drive Partitioning</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
