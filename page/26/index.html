<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials." /><meta name="keywords" content="golang, kubernetes, python, javascript, linux, java, docker, rust" />






<meta name="generator" content="Hugo 0.101.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/" />
  <link href="https://www.sobyte.net/index.xml" rel="alternate" type="application/rss+xml" title="SoByte" />
  <link href="https://www.sobyte.net/index.xml" rel="feed" type="application/rss+xml" title="SoByte" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="SoByte" />
<meta property="og:description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.sobyte.net/" />

<meta itemprop="name" content="SoByte">
<meta itemprop="description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SoByte"/>
<meta name="twitter:description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/multi-line-logs-with-regular/">How to handle multi-line logs with regular expressions</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-21 10:09:47 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1592 words </span>
        <span class="more-meta"> 8 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Log collection with multi-line logs is always a headache, developers are not willing to output logs as JSON, so they have to re-structure the logs when collecting them.
Since log collectors are implemented in different ways and standards, how to handle multi-line logs will be different for different collectors. For example, if we use Fluentd as our log collector, we can use the multiline parser to handle multi-line logs.
The multiline parser uses the formatN and format_firstline parameters to parse the logs.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/multi-line-logs-with-regular/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/k8s-error/">unexpected error getting claim reference: selfLink was empty, can&#39;t make reference</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-21 09:39:30 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 275 words </span>
        <span class="more-meta"> 2 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      The error log is as follows:
1 2 3 4 5 6 7 I0620 07:19:39.552037 1 leaderelection.go:185] attempting to acquire leader lease cephfs/ceph.com-cephfs... E0620 07:19:39.610071 1 event.go:259] Could not construct reference to: &#39;&amp;v1.Endpoints{TypeMeta:v1.TypeMeta{Kind:&#34;&#34;, APIVersion:&#34;&#34;}, ObjectMeta:v1.ObjectMeta{Name:&#34;ceph.com-cephfs&#34;, GenerateName:&#34;&#34;, Namespace:&#34;cephfs&#34;, SelfLink:&#34;&#34;, UID:&#34;4f4ead7b-c097-4074-b56c-76c6888ceed7&#34;, ResourceVersion:&#34;209907&#34;, Generation:0, CreationTimestamp:v1.Time{Time:time.Time{wall:0x0, ext:63791306379, loc:(*time.Location)(0x19b4b00)}}, DeletionTimestamp:(*v1.Time)(nil), DeletionGracePeriodSeconds:(*int64)(nil), Labels:map[string]string(nil), Annotations:map[string]string{&#34;control-plane.alpha.kubernetes.io/leader&#34;:&#34;{\&#34;holderIdentity\&#34;:\&#34;cephfs-provisioner-688cc75-xgd5g_58e8a7a6-f069-11ec-aba4-c627c8b0022e\&#34;,\&#34;leaseDurationSeconds\&#34;:15,\&#34;acquireTime\&#34;:\&#34;2022-06-20T07:19:39Z\&#34;,\&#34;renewTime\&#34;:\&#34;2022-06-20T07:19:39Z\&#34;,\&#34;leaderTransitions\&#34;:0}&#34;}, OwnerReferences:[]v1.OwnerReference(nil), Initializers:(*v1.Initializers)(nil), Finalizers:[]string(nil), ClusterName:&#34;&#34;}, Subsets:[]v1.EndpointSubset(nil)}&#39; due to: &#39;selfLink was empty, can&#39;t make reference&#39;. Will not report event: &#39;Normal&#39; &#39;LeaderElection&#39; &#39;cephfs-provisioner-688cc75-xgd5g_58e8a7a6-f069-11ec-aba4-c627c8b0022e became leader&#39; I0620 07:19:39.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/k8s-error/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/track-network-traffic/">How to track network traffic</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 21:26:48 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 210 words </span>
        <span class="more-meta"> 1 min read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Background Through the monitoring has found certain scenarios in the traffic is relatively large, not reasonable, need to know which processes are these traffic are accessing which services trigger.
Method locate which processes are triggering the traffic. locate which IPs are mainly responsible for accessing the traffic Locate the specific ports that are having the larger traffic. Tools nethogs/iftop/tcptrack
Locate the process 1 sudo nethogs From the above graph you can see the total traffic, and the size of the traffic for each process.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/track-network-traffic/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/os-switch/">How much overhead is actually required for process/thread context switching?</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 21:10:43 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1847 words </span>
        <span class="more-meta"> 9 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Processes are a very familiar concept, and we have probably heard of process context switching overhead. So let&rsquo;s think about a question today, just how much CPU time is consumed by a process context switch? As threads are said to be lighter than processes, will their context switches save much CPU time than process switches? With these questions in mind, let&rsquo;s get to the point.
1. Processes and process switching Processes are one of the great inventions of operating systems, shielding applications from hardware details such as CPU scheduling and memory management, and abstracting the concept of a process so that applications can concentrate on implementing their own business logic and perform many tasks &ldquo;simultaneously&rdquo; on a limited CPU.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/os-switch/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/ctx-switch/">The cost of context switching</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 20:51:00 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 2618 words </span>
        <span class="more-meta"> 6 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Concepts Process switching, soft interrupts, kernel state user state switching, CPU hyperthreading switching Kernel state user state switch: still in a thread, just from the user state into the kernel state for safety and other factors need more instructions, system calls specific more what to do see: https://github.com/torvalds/linux/blob/v5.2/arch/x86/entry/entry_64.S#L145 Soft interrupts: such as network packet arrival, triggering ksoftirqd (one per core) process to handle, is a kind of process switching Process
    </div>
    <div class="read-more">
      <a href="/post/2022-06/ctx-switch/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/multiple-clocks-snowflake/">Multi-clock solves the time redirection problem of snowflake algorithm</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 16:20:29 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1575 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Distributed ID generation algorithms are used to generate globally unique ID identifiers in distributed systems, and one well-known algorithm is the snowflake algorithm proposed by twitter, which generates a 64-bit globally unique integer each time, with a very clever underlying idea. 1 2 3 0 1010......101 1010101010 101010101010 \_/ \___________/ \________/ \__________/ 1 2 3 4 The first bit is not used 41-bit millisecond timestamp 10-bit machine ID 12-bit serial
    </div>
    <div class="read-more">
      <a href="/post/2022-06/multiple-clocks-snowflake/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/golang-error-logs/">5 Suggestions for Error Handling and Log Printing in Golang</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 15:55:23 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1653 words </span>
        <span class="more-meta"> 8 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      The Golang language syntax has a very distinctive design of error handling mechanism, which is based on the defensive programming idea. But today&rsquo;s article will not discuss the syntax design of Golang error handling. Instead, today I would like to think about how error logging should be handled and printed in Golang.
5 suggestions for error handling and log printing in Golang use the error stack approach. use logical stack information instead of the code call stack.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/golang-error-logs/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/how-to-use-set-memorylimit/">How to use SetMemoryLimit?</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 15:28:23 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1450 words </span>
        <span class="more-meta"> 3 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Go 1.19 finally implements SetMemoryLimit, Go&rsquo;s GC doesn&rsquo;t provide as many parameters to adjust as Java, there is only one parameter GOGC, so it&rsquo;s exciting to add a parameter that can adjust GC. Those who have been following Go performance will know that there are two hacker ways to tune Go GC in recent years: ballast: ballast technique. This technique uses a &ldquo;false&rdquo; memory footprint to make it harder for
    </div>
    <div class="read-more">
      <a href="/post/2022-06/how-to-use-set-memorylimit/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/k8s-auth/">Authentication and authorization in kubernetes</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 10:05:55 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1361 words </span>
        <span class="more-meta"> 7 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      1. Overview There are two types of users in kubernetes: service account and regular user. These two user types correspond to two usage scenarios.
The service account is provided to the pods running in the cluster, and when these pods want to communicate with the apiserver, it is the serviceaccount that is used for authentication and authorization. Service accounts are stored in the k8s cluster and are RBAC-based and can be bound to roles to have specific permissions for specific resources.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/k8s-auth/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/go-redis-server/">A high latency problem caused by misaligned versions of go-redis and redis server</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 09:40:59 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1281 words </span>
        <span class="more-meta"> 3 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      The company had multiple go-redis clients and multiple versions of the redis cluster. When conducting a business stress test, we found that even if we only access the redis interface, the latency can be as high as a second, which is very counterintuitive. We use different versions of go-redis and different versions of redis cluster to do a simple stress test. redis commands are simple get, kv size is one
    </div>
    <div class="read-more">
      <a href="/post/2022-06/go-redis-server/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    </section>
  
  <nav class="pagination">
    <a class="prev" href="/page/25/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    <a class="next" href="/page/27/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
