<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials." /><meta name="keywords" content="golang, kubernetes, python, javascript, linux, java, docker, rust" />






<meta name="generator" content="Hugo 0.96.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/" />
  <link href="https://www.sobyte.net/index.xml" rel="alternate" type="application/rss+xml" title="SoByte" />
  <link href="https://www.sobyte.net/index.xml" rel="feed" type="application/rss+xml" title="SoByte" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="SoByte" />
<meta property="og:description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.sobyte.net/" />

<meta itemprop="name" content="SoByte">
<meta itemprop="description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SoByte"/>
<meta name="twitter:description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/k8s-eviction/">Summary of eviction strategy for k8s standalone</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-09 17:01:34 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 4213 words </span>
        <span class="more-meta"> 20 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Process eviction: When there is resource pressure on a machine, it may be due to a malicious program that is consuming system resources, or due to overcommit. The system reduces the overall impact of a single program on the system by controlling the survival of processes on the machine. The most critical aspect of the eviction phase is to select the right process to ensure system stability by minimizing the cost.
    </div>
    <div class="read-more">
      <a href="/post/2022-07/k8s-eviction/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/harbor/">Containerd Docking Private Image Repository Harbor</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-09 13:30:55 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 3146 words </span>
        <span class="more-meta"> 7 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Harbor is a CNCF Foundation-hosted open source trusted cloud-native docker registry project that can be used to store, sign, and scan image content. Harbor extends the docker registry project by adding some common features such as security, identity rights management, etc. In addition, it also supports copying images between registries and provides more advanced security features such as user management, access control, and activity auditing, etc. Support for Helm repository
    </div>
    <div class="read-more">
      <a href="/post/2022-07/harbor/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/es-module-error/">Error [ERR_REQUIRE_ESM]: require() of ES Module Error Problem and Solution</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-09 13:11:32 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 395 words </span>
        <span class="more-meta"> 2 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In the Node.js Cli tools project developed with TypeScript, the output of tsconfig.json is set to CommonJS.
When importing external dependencies such as chalk, boxen, etc., the latest versions of these packages are pure ES Module packages, resulting in an error like the following and not available.
1 2 3 4 5 6  Error [ERR_REQUIRE_ESM]: require() of ES Module xxx\node_modules\boxen\index.js from abc.ts not supported. Instead change the require of index.
    </div>
    <div class="read-more">
      <a href="/post/2022-07/es-module-error/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/docker-in-docker/">How to use Docker in Alpine Linux Docker images</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-08 13:48:54 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 717 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Docker in Docker actually makes a lot of sense, like the following scenario I encountered.
I need to use the CIDI service provided by the public cloud to trigger one-click build+test+deployment in the cloud, so I need an environment to build and release, but the build node in the cloud does not necessarily meet my criteria.
In the case of cloud build nodes we have no way to control (i.e. we can&rsquo;t SSH directly to them).
    </div>
    <div class="read-more">
      <a href="/post/2022-07/docker-in-docker/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/long-connection-load-balancing/">Load balancing problem for Keep-Alive connections</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-08 13:18:40 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 816 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In a distributed system, if Service A has to invoke Service B and multiple instances of both services are deployed, the problem of load balancing has to be solved. That is, we want the QPS reaching B to be balanced across all instances of B.
In previous HTTP/1.1-like implementations, Service A needs to establish a TCP connection with B for each request. So the load balancing implementation is generally based on the number of connections.
    </div>
    <div class="read-more">
      <a href="/post/2022-07/long-connection-load-balancing/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/pushgateway/">Using Prometheus Pushgateway to push monitoring metrics</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-08 12:51:39 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1712 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      We know that Prometheus uses the pull mode, but in some network scenarios (such as not on a subnet or firewall), Prometheus cannot directly pull the monitoring metrics data, so we may need a mode that can actively push. Pushgateway is one of the tools in the Prometheus ecosystem to solve this problem. However, Pushgateway is not a panacea and has some drawbacks. Aggregating data from multiple nodes to pushgateway,
    </div>
    <div class="read-more">
      <a href="/post/2022-07/pushgateway/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/go-linter/">How to customize linter (static checking tool) in Go</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-08 12:35:25 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1924 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Usually we use static code checking tools to ensure code quality in our business projects, through static code checking tools we can find some problems in advance, such as undefined variables, type mismatches, variable scope problems, array subscript overruns, memory leaks, etc. The tools will classify the severity of the problem according to their own rules, giving different signs and hints, static code checking The static code checker helps us
    </div>
    <div class="read-more">
      <a href="/post/2022-07/go-linter/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/k8s-elk/">Deploying an Elasticsearch stack on a Kubernetes cluster</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-08 12:16:34 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 797 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      If Logstash is used to receive log input from Filebeat centrally, it is easy to cause performance bottleneck due to single machine; if Kafka is used to receive log input from Filebeat, the timeliness of logs is not guaranteed. Here, the logs collected by Filebeat are directly output to Elasticsearch.
1. Preparation   Node planning
Instead of distinguishing master, data, and client nodes, three nodes of a cluster are directly multiplexed here.
    </div>
    <div class="read-more">
      <a href="/post/2022-07/k8s-elk/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/kube-apiserver/">Design and implementation of kube-apiserver</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-07 13:46:05 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 8583 words </span>
        <span class="more-meta"> 18 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      kube-apiserver is a component in kubernetes that interacts directly with etcd and controls changes to core resources in kubernetes. It provides the following main functions. Providing Kubernetes API, including authentication authorization, data validation, and cluster state changes, for clients and other components to call. Proxy some additional component components in the cluster, such as Kubernetes UI, metrics-server, npd, etc. Creating kubernetes services, i.e., Service that provides apiserver, kubernetes Service. conversion
    </div>
    <div class="read-more">
      <a href="/post/2022-07/kube-apiserver/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-07/apiserver-bootstrap-controller/">Implementation of apiserver service in kube-apiserver</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-07-07 13:25:36 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 2931 words </span>
        <span class="more-meta"> 6 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In kubernetes, the kubernetes API can be accessed from both outside and inside the cluster, directly outside the cluster by accessing the API provided by the apiserver, and inside the cluster by accessing the service as the ClusterIP for kubernetes. kubernetes clusters create a kubernetes service after initialization. A kubernetes service is created and maintained by kube-apiserver, as follows. 1 2 3 4 5 6 7 $ kubectl get service
    </div>
    <div class="read-more">
      <a href="/post/2022-07/apiserver-bootstrap-controller/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    </section>
  
  <nav class="pagination">
    <a class="prev" href="/page/7/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    <a class="next" href="/page/9/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
