<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials." /><meta name="keywords" content="golang, kubernetes, python, javascript, linux, java, docker, rust" />






<meta name="generator" content="Hugo 0.96.0 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/" />
  <link href="https://www.sobyte.net/index.xml" rel="alternate" type="application/rss+xml" title="SoByte" />
  <link href="https://www.sobyte.net/index.xml" rel="feed" type="application/rss+xml" title="SoByte" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">


<meta property="og:title" content="SoByte" />
<meta property="og:description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://www.sobyte.net/" />

<meta itemprop="name" content="SoByte">
<meta itemprop="description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="SoByte"/>
<meta name="twitter:description" content="sobyte is a comprehensive site that keeps up with new technologies and news on the Internet, covering mainly Golang, kubernetes, containers, and various other areas of experience tutorials."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SOBYTE</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SOBYTE</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/ctx-switch/">The cost of context switching</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 20:51:00 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 2618 words </span>
        <span class="more-meta"> 6 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Concepts Process switching, soft interrupts, kernel state user state switching, CPU hyperthreading switching Kernel state user state switch: still in a thread, just from the user state into the kernel state for safety and other factors need more instructions, system calls specific more what to do see: https://github.com/torvalds/linux/blob/v5.2/arch/x86/entry/entry_64.S#L145 Soft interrupts: such as network packet arrival, triggering ksoftirqd (one per core) process to handle, is a kind of process switching Process
    </div>
    <div class="read-more">
      <a href="/post/2022-06/ctx-switch/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/multiple-clocks-snowflake/">Multi-clock solves the time redirection problem of snowflake algorithm</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 16:20:29 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1575 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Distributed ID generation algorithms are used to generate globally unique ID identifiers in distributed systems, and one well-known algorithm is the snowflake algorithm proposed by twitter, which generates a 64-bit globally unique integer each time, with a very clever underlying idea. 1 2 3 0 1010......101 1010101010 101010101010 \_/ \___________/ \________/ \__________/ 1 2 3 4 The first bit is not used 41-bit millisecond timestamp 10-bit machine ID 12-bit serial
    </div>
    <div class="read-more">
      <a href="/post/2022-06/multiple-clocks-snowflake/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/golang-error-logs/">5 Suggestions for Error Handling and Log Printing in Golang</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 15:55:23 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1653 words </span>
        <span class="more-meta"> 8 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      The Golang language syntax has a very distinctive design of error handling mechanism, which is based on the defensive programming idea. But today&rsquo;s article will not discuss the syntax design of Golang error handling. Instead, today I would like to think about how error logging should be handled and printed in Golang.
5 suggestions for error handling and log printing in Golang  use the error stack approach. use logical stack information instead of the code call stack.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/golang-error-logs/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/how-to-use-set-memorylimit/">How to use SetMemoryLimit?</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 15:28:23 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1450 words </span>
        <span class="more-meta"> 3 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Go 1.19 finally implements SetMemoryLimit, Go&rsquo;s GC doesn&rsquo;t provide as many parameters to adjust as Java, there is only one parameter GOGC, so it&rsquo;s exciting to add a parameter that can adjust GC. Those who have been following Go performance will know that there are two hacker ways to tune Go GC in recent years: ballast: ballast technique. This technique uses a &ldquo;false&rdquo; memory footprint to make it harder for
    </div>
    <div class="read-more">
      <a href="/post/2022-06/how-to-use-set-memorylimit/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/k8s-auth/">Authentication and authorization in kubernetes</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 10:05:55 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1361 words </span>
        <span class="more-meta"> 7 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      1. Overview There are two types of users in kubernetes: service account and regular user. These two user types correspond to two usage scenarios.
The service account is provided to the pods running in the cluster, and when these pods want to communicate with the apiserver, it is the serviceaccount that is used for authentication and authorization. Service accounts are stored in the k8s cluster and are RBAC-based and can be bound to roles to have specific permissions for specific resources.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/k8s-auth/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/go-redis-server/">A high latency problem caused by misaligned versions of go-redis and redis server</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-20 09:40:59 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1281 words </span>
        <span class="more-meta"> 3 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      The company had multiple go-redis clients and multiple versions of the redis cluster. When conducting a business stress test, we found that even if we only access the redis interface, the latency can be as high as a second, which is very counterintuitive. We use different versions of go-redis and different versions of redis cluster to do a simple stress test. redis commands are simple get, kv size is one
    </div>
    <div class="read-more">
      <a href="/post/2022-06/go-redis-server/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/k8s-migrating/">The Complete Guide to Migrating Storage Across StorageClass in Kubernetes</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-19 21:10:27 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1693 words </span>
        <span class="more-meta"> 8 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Thinking Let&rsquo;s first think about what few things need to be done to switch StorageClass. First you need to reduce the number of copies of the application to 0, then create a new PVC, copy the data from the old PV to the new PV, then let the application use the new PV and expand the copies to the original number, and finally delete the old PV. This whole process also prevents Kubernetes from deleting the PV when the PVC is deleted.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/k8s-migrating/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/wishbone/">Wishbone Bus Protocol</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-19 21:03:13 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1647 words </span>
        <span class="more-meta"> 8 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Background I have recently been studying how to introduce the Wishbone bus protocol into my Principles of Computer Composition course, so I took the opportunity to learn about the Wishbone protocol.
Bus What is a bus? The bus is usually used to connect CPU and peripherals. For better compatibility and reusability, it is thought that a unified protocol can be designed, where the CPU implementation is the party that initiates the request (also known as master) and the peripheral implementation is the party that receives the request (also known as slave), so that if you want to add peripherals or replace the CPU implementation, it becomes simpler and reduces a lot of adaptation workload.
    </div>
    <div class="read-more">
      <a href="/post/2022-06/wishbone/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/k8s-reliability-list-data/">K8s Clustering Stability: Source Code Analysis of LIST Requests, Performance evaluation and tuning for large-scale base service deployments</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-19 20:36:54 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 6324 words </span>
        <span class="more-meta"> 13 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      For unstructured data storage systems, LIST operations are usually very heavyweight, not only consuming a lot of disk IO, network bandwidth and CPU, but also affecting other requests in the same time period (especially the response latency demanding master selection requests), which is a major cluster stability killer. For example, for Ceph object storage, each LIST bucket request needs to go to multiple disks to retrieve all the data of
    </div>
    <div class="read-more">
      <a href="/post/2022-06/k8s-reliability-list-data/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/2022-06/api-server/">The process of apiserver processing requests</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2022-06-19 14:00:09 </span>
      <div class="post-category">
          <a href="/categories/tutorials/"> tutorials </a>
          </div>
        <span class="more-meta"> 1871 words </span>
        <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      1. Overview The apiserver of k8s is the hub of communication for all components, and its importance is self-explanatory. apiserver can provide HTTP-based services to the outside world, so what steps does a request go through from issuing to processing? The following is a brief description of the entire process based on the code so that you can get a general impression of the process. Since the code structure of
    </div>
    <div class="read-more">
      <a href="/post/2022-06/api-server/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    </section>
  
  <nav class="pagination">
    <a class="prev" href="/page/5/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    <a class="next" href="/page/7/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>



<script type="text/javascript" src="/js/main.min.64437849d125a2d603b3e71d6de5225d641a32d17168a58106e0b61852079683.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
